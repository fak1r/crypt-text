import{c as he,h as Ae,m as yn,n as bn,j as pn,o as ct,p as El,e as Sn,a as De,Q as re,q as wn,r as xn,f as _n,R as Cn,s as kn,b as qn}from"./QBtn.2442fff4.js";import{i as gl,e as Le,j as Vn,A as Tn,c as w,h as E,g as ge,r as q,o as Bl,G,H as ee,T as H,P as D,K as T,O as we,N as Te,V as Re,U as Ze,S as It,E as Al,b as _e,d as Se,ab as yl,C as $n,a3 as En,ac as Bn,Z as wt,k as Wt,w as J,_ as dt,I as A,J as K,M as lt,ad as Ml,ae as An,z as Et,y as xe,t as et,q as ft,x as Ot,l as Pt,v as Mn,n as zn,D as In,af as zl,F as On,a4 as Pn,ag as Hn,ah as Ye,u as Ke,a5 as Fn,L as rt,Y as Ln}from"./index.a8dd97b5.js";import{p as Qe,e as xt,f as _t,x as bl,y as Kn,u as jt,a as Qt,g as Ut,c as Gt,h as Rn,z as Il,i as Dn,q as Nn,Q as Ol,v as Pl,r as Ht,t as Hl,w as Wn,A as Xt,B as Fl,C as Ll,D as Kl,d as Ft,n as jn,k as Rl,E as Qn,F as Un,G as pl,H as Sl,I as Gn,J as Xn,K as Yn}from"./QItem.ba92aac2.js";var Jn=he({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=ge(),o=gl(Vn,Le);if(o===Le)return console.error("QPage needs to be a deep child of QLayout"),Le;if(gl(Tn,Le)===Le)return console.error("QPage needs to be child of QPageContainer"),Le;const a=w(()=>{const u=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const c=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(u,c)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-u+"px":n.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":n.screen.height-u+"px"}}),s=w(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>E("main",{class:s.value,style:a.value},Ae(t.default))}});const Zn={class:"parent-container"},eo={class:"child-container"},to={class:"h1 text-center"},lo={class:"q-py-md"},no={colspan:"16"},oo={class:"h2"},ao={key:0,class:"h2"},io=["onClick"],uo={class:"no-wrap"},ro={class:"no-wrap"},so={colspan:"4"},co={class:"h2"},fo={colspan:"30"},vo={class:"alert"},mo={key:0,class:"h2 repeated"},ho={key:1,class:"h2 newRemove"},go={key:2,class:"h2 newAdd"},yo=["onClick"],bo={__name:"KeyboardBuilder",setup(e){const t=Qe(),n=q(t.getKeyboardById(t.currentKeyboardId));t.$subscribe(()=>{n.value=t.getKeyboardById(t.currentKeyboardId)},{detached:!0});const o=q(t.symbols);let i=q(""),a=q(""),s=q(""),u=!1,c=!1,v="";const f=(I,P)=>Object.keys(P).find(B=>P[B]===I),b=(I,P,B=!1)=>{s.value=!1;const $=f(I,P);if($?(($===v||v==="")&&(u=!u),$!=v&&u===!1&&(u=!0),v=$,i.value=I,u||(i.value="")):(I===o.value[a.value]?c=!c:c=!0,v=$,a.value=I,c||(a.value="")),B&&Object.values(P).find(V=>V===I)&&Object.values(o.value).find(V=>V===I)?((!u||!c)&&(s.value=!1),(u||c)&&(s.value=!0)):s.value=!1,i.value&&a.value&&!s.value){const V=f(i.value,P);P[V]=a.value,i.value="",a.value="",u=!1,c=!1,s.value=!1,v=""}},h=(I,P)=>Object.entries(I).reduce(($,[V,O],F)=>{const j=Math.floor(F/P);return $[j]||($[j]={}),$[j][V]=O,$},[]);let r=q(16),m=0;const R=()=>{r.value=Math.min(34,16+Math.floor((Math.max(m,450)-450)/54)*2)};Bl(()=>{m=document.querySelector(".parent-container").offsetWidth,R()}),window.addEventListener("resize",()=>{m=document.querySelector(".parent-container").offsetWidth,R()}),document.addEventListener("keydown",I=>{c=!1,s.value=!1,t.onInputFlag||k(n.value,I)});const k=(I,P)=>{if(I[P.key]&&P.ctrlKey===!1&&((P.key===v||v==="")&&(u=!u),P.key!=v&&u===!1&&(u=!0),v=P.key,i.value=I[P.key],u||(i.value="")),P.key==="Escape"&&(i.value="",a.value=""),a.value){const B=f(i.value,I);B&&(I[B]=a.value,i.value="",a.value="",u=!1,c=!1,s.value=!1)}};return(I,P)=>(G(),ee("div",Zn,[H("div",eo,[H("div",to,D(T(t).lang.builderTitle),1),H("div",lo,D(T(t).lang.builderText),1),H("table",null,[H("tr",null,[H("td",no,[H("div",oo,[we(D(T(t).lang.builderKeyboard)+" ",1),n.value?Te("",!0):(G(),ee("span",ao,D(T(t).lang.emptyKey),1))])])]),(G(!0),ee(Re,null,Ze(h(n.value,T(r)),(B,$)=>(G(),ee("tr",{key:$,class:"text-center"},[(G(!0),ee(Re,null,Ze(B,(V,O)=>(G(),ee("td",{key:O,class:It(["h2",{yellow:T(i)===V,pink:T(i)!==V}]),onClick:F=>b(V,n.value)},[H("div",uo,D(O)+":",1),H("div",ro,D(V),1)],10,io))),128))]))),128)),H("tr",null,[H("td",so,[H("div",co,D(T(t).lang.builderSymbols),1)]),H("td",fo,[H("div",vo,[T(s)?(G(),ee("div",mo,D(T(t).lang.builderChooseWarning),1)):Te("",!0),T(i)&&!T(s)?(G(),ee("div",ho,D(T(t).lang.builderChooseNewSymbol),1)):Te("",!0),T(a)&&!T(s)?(G(),ee("div",go,D(T(t).lang.builderChooseOldSymbol),1)):Te("",!0)])])]),(G(!0),ee(Re,null,Ze(h(o.value,T(r)),(B,$)=>(G(),ee("tr",{key:$,class:"text-center"},[(G(!0),ee(Re,null,Ze(B,(V,O)=>(G(),ee("td",{key:O,class:It(["h2",{yellow:T(a)===V,blue:T(a)!==V}]),onClick:F=>b(V,n.value,!0)},D(V),11,yo))),128))]))),128))])])]))}};var tt=he({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=w(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>E(e.tag,{class:n.value},Ae(t.default))}}),Lt=he({name:"QCardActions",props:{...yn,vertical:Boolean},setup(e,{slots:t}){const n=bn(e),o=w(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>E("div",{class:o.value},Ae(t.default))}}),Kt=he({name:"QCard",props:{...xt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ge(),o=_t(e,n),i=w(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>E(e.tag,{class:i.value},Ae(t.default))}});function Yt(){let e;const t=ge();function n(){e=void 0}return Al(n),_e(n),{removeTick:n,registerTick(o){e=o,Se(()=>{e===o&&(pn(t)===!1&&e(),e=void 0)})}}}const Jt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Zt(e,t=()=>{},n=()=>{}){return{transitionProps:w(()=>{const o=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:w(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let po=1,So=document.body;function wo(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${po++}`:e,yl.globalNodes!==void 0){const o=yl.globalNodes.class;o!==void 0&&(n.className=o)}return So.appendChild(n),n}function xo(e){e.remove()}const Ne=[];function _o(e){return Ne.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Dl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ct(e)}else if(e.__qPortal===!0){const n=ct(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=ct(e)}while(e!=null)}function Co(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Dl(e,t);continue}e.hide(t)}e=ct(e)}}function ko(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function el(e,t,n,o){const i=q(!1),a=q(!1);let s=null;const u={},c=o==="dialog"&&ko(e);function v(b){if(b===!0){bl(u),a.value=!0;return}a.value=!1,i.value===!1&&(c===!1&&s===null&&(s=wo(!1,o)),i.value=!0,Ne.push(e.proxy),Kn(u))}function f(b){if(a.value=!1,b!==!0)return;bl(u),i.value=!1;const h=Ne.indexOf(e.proxy);h!==-1&&Ne.splice(h,1),s!==null&&(xo(s),s=null)}return $n(()=>{f(!0)}),e.proxy.__qPortal=!0,En(e.proxy,"contentEl",()=>t.value),{showPortal:v,hidePortal:f,portalIsActive:i,portalIsAccessible:a,renderPortal:()=>c===!0?n():i.value===!0?[E(Bn,{to:s},n())]:void 0}}const $e=[];let je;function qo(e){je=e.keyCode===27}function Vo(){je===!0&&(je=!1)}function To(e){je===!0&&(je=!1,wt(e,27)===!0&&$e[$e.length-1](e))}function Nl(e){window[e]("keydown",qo),window[e]("blur",Vo),window[e]("keyup",To),je=!1}function Wl(e){Wt.is.desktop===!0&&($e.push(e),$e.length===1&&Nl("addEventListener"))}function vt(e){const t=$e.indexOf(e);t>-1&&($e.splice(t,1),$e.length===0&&Nl("removeEventListener"))}const Ee=[];function jl(e){Ee[Ee.length-1](e)}function Ql(e){Wt.is.desktop===!0&&(Ee.push(e),Ee.length===1&&document.body.addEventListener("focusin",jl))}function Rt(e){const t=Ee.indexOf(e);t>-1&&(Ee.splice(t,1),Ee.length===0&&document.body.removeEventListener("focusin",jl))}let st=0;const $o={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},wl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var mt=he({name:"QDialog",inheritAttrs:!1,props:{...jt,...Jt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Qt,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const i=ge(),a=q(null),s=q(!1),u=q(!1);let c=null,v=null,f,b;const h=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:r}=Dn(),{registerTimeout:m}=Ut(),{registerTick:R,removeTick:k}=Yt(),{transitionProps:I,transitionStyle:P}=Zt(e,()=>wl[e.position][0],()=>wl[e.position][1]),{showPortal:B,hidePortal:$,portalIsAccessible:V,renderPortal:O}=el(i,a,L,"dialog"),{hide:F}=Gt({showing:s,hideOnRouteChange:h,handleShow:fe,handleHide:ce,processOnMount:!0}),{addToHistory:j,removeFromHistory:Y}=Rn(s,F,h),le=w(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${$o[e.position]}`+(u.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),ne=w(()=>s.value===!0&&e.seamless!==!0),Z=w(()=>e.autoClose===!0?{onClick:d}:{}),se=w(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${ne.value===!0?"modal":"seamless"}`,o.class]);J(()=>e.maximized,x=>{s.value===!0&&ue(x)}),J(ne,x=>{r(x),x===!0?(Ql(_),Wl(ie)):(Rt(_),vt(ie))});function fe(x){j(),v=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ue(e.maximized),B(),u.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),R(Q)):k(),m(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:C,bottom:M}=document.activeElement.getBoundingClientRect(),{innerHeight:U}=window,g=window.visualViewport!==void 0?window.visualViewport.height:U;C>0&&M>g/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-g,M>=U?1/0:Math.ceil(document.scrollingElement.scrollTop+M-g/2))),document.activeElement.scrollIntoView()}b=!0,a.value.click(),b=!1}B(!0),u.value=!1,n("show",x)},e.transitionDuration)}function ce(x){k(),Y(),oe(!0),u.value=!0,$(),v!==null&&(((x&&x.type.indexOf("key")===0?v.closest('[tabindex]:not([tabindex^="-"])'):void 0)||v).focus(),v=null),m(()=>{$(!0),u.value=!1,n("hide",x)},e.transitionDuration)}function Q(x){Il(()=>{let C=a.value;C===null||C.contains(document.activeElement)===!0||(C=(x!==""?C.querySelector(x):null)||C.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||C.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||C.querySelector("[autofocus], [data-autofocus]")||C,C.focus({preventScroll:!0}))})}function ve(x){x&&typeof x.focus=="function"?x.focus({preventScroll:!0}):Q(),n("shake");const C=a.value;C!==null&&(C.classList.remove("q-animate--scale"),C.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,a.value!==null&&(C.classList.remove("q-animate--scale"),Q())},170))}function ie(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ve():(n("escapeKey"),F()))}function oe(x){c!==null&&(clearTimeout(c),c=null),(x===!0||s.value===!0)&&(ue(!1),e.seamless!==!0&&(r(!1),Rt(_),vt(ie))),x!==!0&&(v=null)}function ue(x){x===!0?f!==!0&&(st<1&&document.body.classList.add("q-body--dialog"),st++,f=!0):f===!0&&(st<2&&document.body.classList.remove("q-body--dialog"),st--,f=!1)}function d(x){b!==!0&&(F(x),n("click",x))}function y(x){e.persistent!==!0&&e.noBackdropDismiss!==!0?F(x):e.noShake!==!0&&ve()}function _(x){e.allowFocusOutside!==!0&&V.value===!0&&El(a.value,x.target)!==!0&&Q('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:Q,shake:ve,__updateRefocusTarget(x){v=x||null}}),_e(oe);function L(){return E("div",{role:"dialog","aria-modal":ne.value===!0?"true":"false",...o,class:se.value},[E(dt,{name:"q-transition--fade",appear:!0},()=>ne.value===!0?E("div",{class:"q-dialog__backdrop fixed-full",style:P.value,"aria-hidden":"true",tabindex:-1,onClick:y}):null),E(dt,I.value,()=>s.value===!0?E("div",{ref:a,class:le.value,style:P.value,tabindex:-1,...Z.value},Ae(t.default)):null)])}return O}});function xl(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Bt=Sn({name:"close-popup",beforeMount(e,{value:t}){const n={depth:xl(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=_o(e);i!==void 0&&Co(i,o,n.depth)})},handlerKey(o){wt(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=xl(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Eo={class:"q-py-md flex"},Dt={__name:"InputText",props:{modelValue:{type:String,required:!1},placeholder:{type:String,required:!1,default:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043E-\u043D\u0438\u0431\u0443\u0434\u044C"},eyeIcon:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","is-pwd-update"],setup(e,{emit:t}){const n=Qe(),o=q(!1),i=q(null),{focused:a}=Nn(i);return J(a,s=>{s?n.onInput(!0):n.onInput(!1)}),(s,u)=>(G(),ee(Re,null,[A(Ol,{"model-value":e.modelValue,"onUpdate:modelValue":u[2]||(u[2]=c=>s.$emit("update:modelValue",c)),color:"deep-purple-5",placeholder:e.placeholder,outlined:"",onKeyup:u[3]||(u[3]=Ml(c=>s.$emit("update:modelValue",""),["esc"])),type:o.value?"password":"text",ref_key:"inputRef",ref:i},{append:K(()=>[A(De,{name:"close",onClick:u[0]||(u[0]=c=>s.$emit("update:modelValue","")),class:"cursor-pointer"}),e.eyeIcon?(G(),lt(De,{key:0,name:o.value?"visibility_off":"visibility",onClick:u[1]||(u[1]=c=>o.value=!o.value),class:"cursor-pointer"},null,8,["name"])):Te("",!0)]),_:1},8,["model-value","placeholder","type"]),H("div",Eo,[An(s.$slots,"buttons")])],64))}};const Bo={class:"parent-container q-pt-md"},Ao={class:"child-container"},Mo={class:"h1 text-center"},zo={class:"q-pt-md"},Io={class:"q-pt-md"},Oo={class:"row"},Po={class:"q-pt-md",ref:"inputAddNewRef"},Ho={key:0,class:"alert-same-name"},Fo={class:"q-ml-sm"},Lo={class:"text-h6"},Ko={key:0,class:"alert-same-name"},Ro={__name:"KeyList",setup(e){const t=Qe(),n=q(!1),o=q(0),i=q(!1),a=q(0),s=q(""),u=q(""),c=q(""),v=()=>{t.keyboards.find(h=>h.name===u.value)?c.value=t.lang.repeatedKey:(t.createNewKeyboard(u.value),c.value="",u.value="")},f=h=>{const r=t.keyboards.find(m=>m.name===s.value);r&&r.id!==h?c.value=t.lang.repeatedKey:(t.editKeyboardName(h,s.value),c.value="",i.value=!1)};t.$subscribe(()=>{t.onInputFlag&&(c.value=""),c.value!==""&&(c.value=t.lang.repeatedKey)},{detached:!0}),J(i,h=>{h===!0?(c.value="",t.onInput(!0)):(c.value="",t.onInput(!1))});const b=w(()=>h=>h.id===t.currentKeyboardId?"bg-green-2":"bg-orange-2");return(h,r)=>(G(),ee("div",Bo,[H("div",Ao,[H("div",Mo,D(T(t).lang.keyListTitle),1),H("div",zo,D(T(t).lang.keyListText),1),H("div",Io,[A(Wn,{separator:"",bordered:""},{default:K(()=>[(G(!0),ee(Re,null,Ze(T(t).keyboards,m=>(G(),lt(Pl,{class:It(b.value(m)),key:m.id},{default:K(()=>[A(Ht,null,{default:K(()=>[A(Hl,null,{default:K(()=>[we(D(m.name),1)]),_:2},1024)]),_:2},1024),A(Ht,{side:""},{default:K(()=>[H("div",Oo,[A(re,{color:"blue-5",icon:"edit",flat:"",round:"",dense:"",onClick:R=>(a.value=m.id,i.value=!0,s.value=m.name)},null,8,["onClick"]),A(re,{color:"red-5",icon:"delete",flat:"",round:"",dense:"",onClick:R=>(o.value=m.id,n.value=!0)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1}),H("div",Po,[A(Dt,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=m=>u.value=m),placeholder:T(t).lang.placeholderNewKeyboard},{buttons:K(()=>[A(re,{onClick:v,class:"btn","no-caps":""},{default:K(()=>[we(D(T(t).lang.btnSaveKey),1)]),_:1}),c.value&&!i.value?(G(),ee("span",Ho,D(c.value),1)):Te("",!0)]),_:1},8,["modelValue","placeholder"])],512),A(mt,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=m=>n.value=m),persistent:""},{default:K(()=>[A(Kt,{class:"modal"},{default:K(()=>[A(tt,{class:"row items-center"},{default:K(()=>[H("span",Fo,D(T(t).lang.deleteKeyNotice),1)]),_:1}),A(Lt,{align:"right"},{default:K(()=>[Et(A(re,{flat:"",label:"Cancel","text-color":"black"},null,512),[[Bt]]),Et(A(re,{flat:"",label:"Delete","text-color":"red",color:"primary",onClick:r[1]||(r[1]=m=>T(t).deleteKeyboard(o.value))},null,512),[[Bt]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),A(mt,{modelValue:i.value,"onUpdate:modelValue":r[6]||(r[6]=m=>i.value=m),persistent:""},{default:K(()=>[A(Kt,{class:"modal",style:{"min-width":"350px"}},{default:K(()=>[A(tt,null,{default:K(()=>[H("div",Lo,D(T(t).lang.editKeyNotice),1)]),_:1}),A(tt,{class:"q-pt-none"},{default:K(()=>[A(Ol,{dense:"",modelValue:s.value,"onUpdate:modelValue":r[3]||(r[3]=m=>s.value=m),autofocus:"",onKeyup:r[4]||(r[4]=Ml(m=>i.value=!1,["enter"]))},null,8,["modelValue"])]),_:1}),c.value?(G(),ee("span",Ko,D(c.value),1)):Te("",!0),A(Lt,{align:"right",class:"text-black"},{default:K(()=>[Et(A(re,{flat:"",label:"Cancel"},null,512),[[Bt]]),A(re,{flat:"",label:"Save",onClick:r[5]||(r[5]=m=>f(a.value))})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]))}};var Do=he({name:"QField",inheritAttrs:!1,props:{...Xt,tag:{type:String,default:"label"}},emits:Fl,setup(){return Ll(Kl({requiredForAttr:!1,tagProp:!0}))}});const No={xs:8,sm:10,md:14,lg:20,xl:24};var Wo=he({name:"QChip",props:{...xt,...wn,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=ge(),i=_t(e,o),a=xn(e,No),s=w(()=>e.selected===!0||e.icon!==void 0),u=w(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),c=w(()=>e.iconRemove||o.iconSet.chip.remove),v=w(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=w(()=>{const k=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(k?` text-${k} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),b=w(()=>{const k=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},I={...k,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:k,remove:I}});function h(k){k.keyCode===13&&r(k)}function r(k){e.disable||(n("update:selected",!e.selected),n("click",k))}function m(k){(k.keyCode===void 0||k.keyCode===13)&&(xe(k),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function R(){const k=[];v.value===!0&&k.push(E("div",{class:"q-focus-helper"})),s.value===!0&&k.push(E(De,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const I=e.label!==void 0?[E("div",{class:"ellipsis"},[e.label])]:void 0;return k.push(E("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},kn(t.default,I))),e.iconRight&&k.push(E(De,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&k.push(E(De,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...b.value.remove,onClick:m,onKeyup:m})),k}return()=>{if(e.modelValue===!1)return;const k={class:f.value,style:a.value};return v.value===!0&&Object.assign(k,b.value.chip,{onClick:r,onKeyup:h}),_n("div",k,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Cn,e.ripple]])}}});const Ul={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Gl({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:a}=ge(),s=q(null);let u=null;function c(r){return s.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const v={};n===void 0&&(Object.assign(v,{hide(r){i.hide(r)},toggle(r){i.toggle(r),r.qAnchorHandled=!0},toggleKey(r){wt(r,13)===!0&&v.toggle(r)},contextClick(r){i.hide(r),et(r),Se(()=>{i.show(r),r.qAnchorHandled=!0})},prevent:et,mobileTouch(r){if(v.mobileCleanup(r),c(r)!==!0)return;i.hide(r),s.value.classList.add("non-selectable");const m=r.target;ft(v,"anchor",[[m,"touchmove","mobileCleanup","passive"],[m,"touchend","mobileCleanup","passive"],[m,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{u=null,i.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){s.value.classList.remove("non-selectable"),u!==null&&(clearTimeout(u),u=null),e.value===!0&&r!==void 0&&Ft()}}),n=function(r=o.contextMenu){if(o.noParentEvent===!0||s.value===null)return;let m;r===!0?i.$q.platform.is.mobile===!0?m=[[s.value,"touchstart","mobileTouch","passive"]]:m=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:m=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],ft(v,"anchor",m)});function f(){Ot(v,"anchor")}function b(r){for(s.value=r;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;n()}function h(){if(o.target===!1||o.target===""||i.$el.parentNode===null)s.value=null;else if(o.target===!0)b(i.$el.parentNode);else{let r=o.target;if(typeof o.target=="string")try{r=document.querySelector(o.target)}catch{r=void 0}r!=null?(s.value=r.$el||r,n()):(s.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return J(()=>o.contextMenu,r=>{s.value!==null&&(f(),n(r))}),J(()=>o.target,()=>{s.value!==null&&f(),h()}),J(()=>o.noParentEvent,r=>{s.value!==null&&(r===!0?f():n())}),Bl(()=>{h(),t!==!0&&o.modelValue===!0&&s.value===null&&a("update:modelValue",!1)}),_e(()=>{u!==null&&clearTimeout(u),f()}),{anchorEl:s,canShow:c,anchorEvents:v}}function Xl(e,t){const n=q(null);let o;function i(u,c){const v=`${c!==void 0?"add":"remove"}EventListener`,f=c!==void 0?c:o;u!==window&&u[v]("scroll",f,Pt.passive),window[v]("scroll",f,Pt.passive),o=c}function a(){n.value!==null&&(i(n.value),n.value=null)}const s=J(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return _e(s),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:i}}const{notPassiveCapture:ht}=Pt,Be=[];function gt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Ne.length-1;for(;n>=0;){const o=Ne[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=Be.length-1;o>=0;o--){const i=Be[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Yl(e){Be.push(e),Be.length===1&&(document.addEventListener("mousedown",gt,ht),document.addEventListener("touchstart",gt,ht))}function yt(e){const t=Be.findIndex(n=>n===e);t>-1&&(Be.splice(t,1),Be.length===0&&(document.removeEventListener("mousedown",gt,ht),document.removeEventListener("touchstart",gt,ht)))}let _l,Cl;function bt(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Jl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Nt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Nt[`${e}#ltr`]=e,Nt[`${e}#rtl`]=e});function pt(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Nt[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function jo(e,t){let{top:n,left:o,right:i,bottom:a,width:s,height:u}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],i+=t[0],s+=t[0],u+=t[1]),{top:n,bottom:a,height:u,left:o,right:i,width:s,middle:o+(i-o)/2,center:n+(a-n)/2}}function Qo(e,t,n){let{top:o,left:i}=e.getBoundingClientRect();return o+=t.top,i+=t.left,n!==void 0&&(o+=n[1],i+=n[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function Uo(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function kl(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function tl(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{tl(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:i,anchorOrigin:a,selfOrigin:s,absoluteOffset:u,fit:c,cover:v,maxHeight:f,maxWidth:b}=e;if(Wt.is.ios===!0&&window.visualViewport!==void 0){const O=document.body.style,{offsetLeft:F,offsetTop:j}=window.visualViewport;F!==_l&&(O.setProperty("--q-pe-left",F+"px"),_l=F),j!==Cl&&(O.setProperty("--q-pe-top",j+"px"),Cl=j)}const{scrollLeft:h,scrollTop:r}=n,m=u===void 0?jo(i,v===!0?[0,0]:o):Qo(i,u,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b||"100vw",maxHeight:f||"100vh",visibility:"visible"});const{offsetWidth:R,offsetHeight:k}=n,{elWidth:I,elHeight:P}=c===!0||v===!0?{elWidth:Math.max(m.width,R),elHeight:v===!0?Math.max(m.height,k):k}:{elWidth:R,elHeight:k};let B={maxWidth:b,maxHeight:f};(c===!0||v===!0)&&(B.minWidth=m.width+"px",v===!0&&(B.minHeight=m.height+"px")),Object.assign(n.style,B);const $=Uo(I,P);let V=kl(m,$,a,s);if(u===void 0||o===void 0)At(V,m,$,a,s);else{const{top:O,left:F}=V;At(V,m,$,a,s);let j=!1;if(V.top!==O){j=!0;const Y=2*o[1];m.center=m.top-=Y,m.bottom-=Y+2}if(V.left!==F){j=!0;const Y=2*o[0];m.middle=m.left-=Y,m.right-=Y+2}j===!0&&(V=kl(m,$,a,s),At(V,m,$,a,s))}B={top:V.top+"px",left:V.left+"px"},V.maxHeight!==void 0&&(B.maxHeight=V.maxHeight+"px",m.height>V.maxHeight&&(B.minHeight=B.maxHeight)),V.maxWidth!==void 0&&(B.maxWidth=V.maxWidth+"px",m.width>V.maxWidth&&(B.minWidth=B.maxWidth)),Object.assign(n.style,B),n.scrollTop!==r&&(n.scrollTop=r),n.scrollLeft!==h&&(n.scrollLeft=h)}function At(e,t,n,o,i){const a=n.bottom,s=n.right,u=jn(),c=window.innerHeight-u,v=document.body.clientWidth;if(e.top<0||e.top+a>c)if(i.vertical==="center")e.top=t[o.vertical]>c/2?Math.max(0,c-a):0,e.maxHeight=Math.min(a,c);else if(t[o.vertical]>c/2){const f=Math.min(c,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,f),e.top=Math.max(0,f-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,c-e.top);if(e.left<0||e.left+s>v)if(e.maxWidth=Math.min(s,v),i.horizontal==="middle")e.left=t[o.horizontal]>v/2?Math.max(0,v-s):0;else if(t[o.horizontal]>v/2){const f=Math.min(v,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(s,f),e.left=Math.max(0,f-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(s,v-e.left)}var Go=he({name:"QMenu",inheritAttrs:!1,props:{...Ul,...jt,...xt,...Jt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:bt},self:{type:String,validator:bt},offset:{type:Array,validator:Jl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Qt,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,a,s,u;const c=ge(),{proxy:v}=c,{$q:f}=v,b=q(null),h=q(!1),r=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=_t(e,f),{registerTick:R,removeTick:k}=Yt(),{registerTimeout:I}=Ut(),{transitionProps:P,transitionStyle:B}=Zt(e),{localScrollTarget:$,changeScrollEvent:V,unconfigureScrollTarget:O}=Xl(e,_),{anchorEl:F,canShow:j}=Gl({showing:h}),{hide:Y}=Gt({showing:h,canShow:j,handleShow:ue,handleHide:d,hideOnRouteChange:r,processOnMount:!0}),{showPortal:le,hidePortal:ne,renderPortal:Z}=el(c,b,U,"menu"),se={anchorEl:F,innerRef:b,onClickOutside(g){if(e.persistent!==!0&&h.value===!0)return Y(g),(g.type==="touchstart"||g.target.classList.contains("q-dialog__backdrop"))&&xe(g),!0}},fe=w(()=>pt(e.anchor||(e.cover===!0?"center middle":"bottom start"),f.lang.rtl)),ce=w(()=>e.cover===!0?fe.value:pt(e.self||"top start",f.lang.rtl)),Q=w(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),ve=w(()=>e.autoClose===!0?{onClick:L}:{}),ie=w(()=>h.value===!0&&e.persistent!==!0);J(ie,g=>{g===!0?(Wl(C),Yl(se)):(vt(C),yt(se))});function oe(){Il(()=>{let g=b.value;g&&g.contains(document.activeElement)!==!0&&(g=g.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||g.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||g.querySelector("[autofocus], [data-autofocus]")||g,g.focus({preventScroll:!0}))})}function ue(g){if(i=e.noRefocus===!1?document.activeElement:null,Ql(x),le(),_(),a=void 0,g!==void 0&&(e.touchPosition||e.contextMenu)){const te=Mn(g);if(te.left!==void 0){const{top:ye,left:Me}=F.value.getBoundingClientRect();a={left:te.left-Me,top:te.top-ye}}}s===void 0&&(s=J(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,M)),e.noFocus!==!0&&document.activeElement.blur(),R(()=>{M(),e.noFocus!==!0&&oe()}),I(()=>{f.platform.is.ios===!0&&(u=e.autoClose,b.value.click()),M(),le(!0),n("show",g)},e.transitionDuration)}function d(g){k(),ne(),y(!0),i!==null&&(g===void 0||g.qClickOutside!==!0)&&(((g&&g.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),I(()=>{ne(!0),n("hide",g)},e.transitionDuration)}function y(g){a=void 0,s!==void 0&&(s(),s=void 0),(g===!0||h.value===!0)&&(Rt(x),O(),yt(se),vt(C)),g!==!0&&(i=null)}function _(){(F.value!==null||e.scrollTarget!==void 0)&&($.value=Rl(F.value,e.scrollTarget),V($.value,M))}function L(g){u!==!0?(Dl(v,g),n("click",g)):u=!1}function x(g){ie.value===!0&&e.noFocus!==!0&&El(b.value,g.target)!==!0&&oe()}function C(g){n("escapeKey"),Y(g)}function M(){tl({targetEl:b.value,offset:e.offset,anchorEl:F.value,anchorOrigin:fe.value,selfOrigin:ce.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function U(){return E(dt,P.value,()=>h.value===!0?E("div",{role:"menu",...o,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+Q.value,o.class],style:[o.style,B.value],...ve.value},Ae(t.default)):null)}return _e(y),Object.assign(v,{focus:oe,updatePosition:M}),Z}});let St=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,St=e.scrollLeft>=0,e.remove()}const me=1e3,Xo=["start","center","end","start-force","center-force","end-force"],Zl=Array.prototype.filter,Yo=window.getComputedStyle(document.body).overflowAnchor===void 0?zn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Zl.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function We(e,t){return e+t}function Mt(e,t,n,o,i,a,s,u){const c=e===window?document.scrollingElement||document.documentElement:e,v=i===!0?"offsetWidth":"offsetHeight",f={scrollStart:0,scrollViewSize:-s-u,scrollMaxSize:0,offsetStart:-s,offsetEnd:-u};if(i===!0?(e===window?(f.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,f.scrollViewSize+=document.documentElement.clientWidth):(f.scrollStart=c.scrollLeft,f.scrollViewSize+=c.clientWidth),f.scrollMaxSize=c.scrollWidth,a===!0&&(f.scrollStart=(St===!0?f.scrollMaxSize-f.scrollViewSize:0)-f.scrollStart)):(e===window?(f.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,f.scrollViewSize+=document.documentElement.clientHeight):(f.scrollStart=c.scrollTop,f.scrollViewSize+=c.clientHeight),f.scrollMaxSize=c.scrollHeight),n!==null)for(let b=n.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetStart+=b[v]);if(o!==null)for(let b=o.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetEnd+=b[v]);if(t!==e){const b=c.getBoundingClientRect(),h=t.getBoundingClientRect();i===!0?(f.offsetStart+=h.left-b.left,f.offsetEnd-=h.width):(f.offsetStart+=h.top-b.top,f.offsetEnd-=h.height),e!==window&&(f.offsetStart+=f.scrollStart),f.offsetEnd+=f.scrollMaxSize-f.offsetStart}return f}function ql(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(St===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(St===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Je(e,t,n,o){if(n>=o)return 0;const i=t.length,a=Math.floor(n/me),s=Math.floor((o-1)/me)+1;let u=e.slice(a,s).reduce(We,0);return n%me!==0&&(u-=t.slice(a*me,n).reduce(We,0)),o%me!==0&&o!==i&&(u-=t.slice(o,s*me).reduce(We,0)),u}const Jo={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Zo={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Jo};function ea({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const i=ge(),{props:a,emit:s,proxy:u}=i,{$q:c}=u;let v,f,b,h=[],r;const m=q(0),R=q(0),k=q({}),I=q(null),P=q(null),B=q(null),$=q({from:0,to:0}),V=w(()=>a.tableColspan!==void 0?a.tableColspan:100);o===void 0&&(o=w(()=>a.virtualScrollItemSize));const O=w(()=>o.value+";"+a.virtualScrollHorizontal),F=w(()=>O.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);J(F,()=>{Q()}),J(O,j);function j(){ce(f,!0)}function Y(d){ce(d===void 0?f:d)}function le(d,y){const _=t();if(_==null||_.nodeType===8)return;const L=Mt(_,n(),I.value,P.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);b!==L.scrollViewSize&&Q(L.scrollViewSize),Z(_,L,Math.min(e.value-1,Math.max(0,parseInt(d,10)||0)),0,Xo.indexOf(y)>-1?y:f>-1&&d>f?"end":"start")}function ne(){const d=t();if(d==null||d.nodeType===8)return;const y=Mt(d,n(),I.value,P.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),_=e.value-1,L=y.scrollMaxSize-y.offsetStart-y.offsetEnd-R.value;if(v===y.scrollStart)return;if(y.scrollMaxSize<=0){Z(d,y,0,0);return}b!==y.scrollViewSize&&Q(y.scrollViewSize),se($.value.from);const x=Math.floor(y.scrollMaxSize-Math.max(y.scrollViewSize,y.offsetEnd)-Math.min(r[_],y.scrollViewSize/2));if(x>0&&Math.ceil(y.scrollStart)>=x){Z(d,y,_,y.scrollMaxSize-y.offsetEnd-h.reduce(We,0));return}let C=0,M=y.scrollStart-y.offsetStart,U=M;if(M<=L&&M+y.scrollViewSize>=m.value)M-=m.value,C=$.value.from,U=M;else for(let g=0;M>=h[g]&&C<_;g++)M-=h[g],C+=me;for(;M>0&&C<_;)M-=r[C],M>-y.scrollViewSize?(C++,U=M):U=r[C]+M;Z(d,y,C,U)}function Z(d,y,_,L,x){const C=typeof x=="string"&&x.indexOf("-force")>-1,M=C===!0?x.replace("-force",""):x,U=M!==void 0?M:"start";let g=Math.max(0,_-k.value[U]),te=g+k.value.total;te>e.value&&(te=e.value,g=Math.max(0,te-k.value.total)),v=y.scrollStart;const ye=g!==$.value.from||te!==$.value.to;if(ye===!1&&M===void 0){ie(_);return}const{activeElement:Me}=document,be=B.value;ye===!0&&be!==null&&be!==Me&&be.contains(Me)===!0&&(be.addEventListener("focusout",fe),setTimeout(()=>{be!==null&&be.removeEventListener("focusout",fe)})),Yo(be,_-g);const nt=M!==void 0?r.slice(g,_).reduce(We,0):0;if(ye===!0){const Ce=te>=$.value.from&&g<=$.value.to?$.value.to:te;$.value={from:g,to:Ce},m.value=Je(h,r,0,g),R.value=Je(h,r,te,e.value),requestAnimationFrame(()=>{$.value.to!==te&&v===y.scrollStart&&($.value={from:$.value.from,to:te},R.value=Je(h,r,te,e.value))})}requestAnimationFrame(()=>{if(v!==y.scrollStart)return;ye===!0&&se(g);const Ce=r.slice(g,_).reduce(We,0),ke=Ce+y.offsetStart+m.value,ot=ke+r[_];let Ue=ke+L;if(M!==void 0){const Ct=Ce-nt,Ge=y.scrollStart+Ct;Ue=C!==!0&&Ge<ke&&ot<Ge+y.scrollViewSize?Ge:M==="end"?ot-y.scrollViewSize:ke-(M==="start"?0:Math.round((y.scrollViewSize-r[_])/2))}v=Ue,ql(d,Ue,a.virtualScrollHorizontal,c.lang.rtl),ie(_)})}function se(d){const y=B.value;if(y){const _=Zl.call(y.children,g=>g.classList&&g.classList.contains("q-virtual-scroll--skip")===!1),L=_.length,x=a.virtualScrollHorizontal===!0?g=>g.getBoundingClientRect().width:g=>g.offsetHeight;let C=d,M,U;for(let g=0;g<L;){for(M=x(_[g]),g++;g<L&&_[g].classList.contains("q-virtual-scroll--with-prev")===!0;)M+=x(_[g]),g++;U=M-r[C],U!==0&&(r[C]+=U,h[Math.floor(C/me)]+=U),C++}}}function fe(){B.value!==null&&B.value!==void 0&&B.value.focus()}function ce(d,y){const _=1*o.value;(y===!0||Array.isArray(r)===!1)&&(r=[]);const L=r.length;r.length=e.value;for(let C=e.value-1;C>=L;C--)r[C]=_;const x=Math.floor((e.value-1)/me);h=[];for(let C=0;C<=x;C++){let M=0;const U=Math.min((C+1)*me,e.value);for(let g=C*me;g<U;g++)M+=r[g];h.push(M)}f=-1,v=void 0,m.value=Je(h,r,0,$.value.from),R.value=Je(h,r,$.value.to,e.value),d>=0?(se($.value.from),Se(()=>{le(d)})):oe()}function Q(d){if(d===void 0&&typeof window!="undefined"){const M=t();M!=null&&M.nodeType!==8&&(d=Mt(M,n(),I.value,P.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}b=d;const y=parseFloat(a.virtualScrollSliceRatioBefore)||0,_=parseFloat(a.virtualScrollSliceRatioAfter)||0,L=1+y+_,x=d===void 0||d<=0?1:Math.ceil(d/o.value),C=Math.max(1,x,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/L));k.value={total:Math.ceil(C*L),start:Math.ceil(C*y),center:Math.ceil(C*(.5+y)),end:Math.ceil(C*(1+y)),view:x}}function ve(d,y){const _=a.virtualScrollHorizontal===!0?"width":"height",L={["--q-virtual-scroll-item-"+_]:o.value+"px"};return[d==="tbody"?E(d,{class:"q-virtual-scroll__padding",key:"before",ref:I},[E("tr",[E("td",{style:{[_]:`${m.value}px`,...L},colspan:V.value})])]):E(d,{class:"q-virtual-scroll__padding",key:"before",ref:I,style:{[_]:`${m.value}px`,...L}}),E(d,{class:"q-virtual-scroll__content",key:"content",ref:B,tabindex:-1},y.flat()),d==="tbody"?E(d,{class:"q-virtual-scroll__padding",key:"after",ref:P},[E("tr",[E("td",{style:{[_]:`${R.value}px`,...L},colspan:V.value})])]):E(d,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:{[_]:`${R.value}px`,...L}})]}function ie(d){f!==d&&(a.onVirtualScroll!==void 0&&s("virtualScroll",{index:d,from:$.value.from,to:$.value.to-1,direction:d<f?"decrease":"increase",ref:u}),f=d)}Q();const oe=In(ne,c.platform.is.ios===!0?120:35);zl(()=>{Q()});let ue=!1;return Al(()=>{ue=!0}),On(()=>{if(ue!==!0)return;const d=t();v!==void 0&&d!==void 0&&d!==null&&d.nodeType!==8?ql(d,v,a.virtualScrollHorizontal,c.lang.rtl):le(f)}),_e(()=>{oe.cancel()}),Object.assign(u,{scrollTo:le,reset:j,refresh:Y}),{virtualScrollSliceRange:$,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:Q,onVirtualScrollEvt:oe,localResetVirtualScroll:ce,padVirtualScroll:ve,scrollTo:le,reset:j,refresh:Y}}const Vl=e=>["add","add-unique","toggle"].includes(e),ta=".*+?^${}()|[]\\",la=Object.keys(Xt);var na=he({name:"QSelect",inheritAttrs:!1,props:{...Zo,...Qn,...Xt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Vl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Fl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=ge(),{$q:i}=o,a=q(!1),s=q(!1),u=q(-1),c=q(""),v=q(!1),f=q(!1);let b=null,h=null,r,m,R,k=null,I,P,B,$;const V=q(null),O=q(null),F=q(null),j=q(null),Y=q(null),le=Un(e),ne=Gn(dl),Z=w(()=>Array.isArray(e.options)?e.options.length:0),se=w(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:fe,virtualScrollSliceSizeComputed:ce,localResetVirtualScroll:Q,padVirtualScroll:ve,onVirtualScrollEvt:ie,scrollTo:oe,setVirtualScrollSize:ue}=ea({virtualScrollLength:Z,getVirtualScrollTarget:nn,getVirtualScrollEl:sl,virtualScrollItemSizeComputed:se}),d=Kl(),y=w(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,S=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const p=e.mapOptions===!0&&r!==void 0?r:[],z=S.map(W=>ln(W,p));return e.modelValue===null&&l===!0?z.filter(W=>W!==null):z}return S}),_=w(()=>{const l={};return la.forEach(S=>{const p=e[S];p!==void 0&&(l[S]=p)}),l}),L=w(()=>e.optionsDark===null?d.isDark.value:e.optionsDark),x=w(()=>Sl(y.value)),C=w(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||y.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),M=w(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),U=w(()=>Z.value===0),g=w(()=>y.value.map(l=>de.value(l)).join(", ")),te=w(()=>e.displayValue!==void 0?e.displayValue:g.value),ye=w(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),Me=w(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||y.value.some(ye.value))),be=w(()=>d.focused.value===!0?e.tabindex:-1),nt=w(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${d.targetUid.value}_lb`};return u.value>=0&&(l["aria-activedescendant"]=`${d.targetUid.value}_${u.value}`),l}),Ce=w(()=>({id:`${d.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ke=w(()=>y.value.map((l,S)=>({index:S,opt:l,html:ye.value(l),selected:!0,removeAtIndex:tn,toggleOption:qe,tabindex:be.value}))),ot=w(()=>{if(Z.value===0)return[];const{from:l,to:S}=fe.value;return e.options.slice(l,S).map((p,z)=>{const W=ze.value(p)===!0,N=l+z,X={clickable:!0,active:!1,activeClass:Ge.value,manualFocus:!0,focused:!1,disable:W,tabindex:-1,dense:e.optionsDense,dark:L.value,role:"option",id:`${d.targetUid.value}_${N}`,onClick:()=>{qe(p)}};return W!==!0&&(Vt(p)===!0&&(X.active=!0),u.value===N&&(X.focused=!0),X["aria-selected"]=X.active===!0?"true":"false",i.platform.is.desktop===!0&&(X.onMousemove=()=>{a.value===!0&&Ie(N)})),{index:N,opt:p,html:ye.value(p),label:de.value(p),selected:X.active,focused:X.focused,toggleOption:qe,setOptionIndex:Ie,itemProps:X}})}),Ue=w(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),Ct=w(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ge=w(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),pe=w(()=>qt(e.optionValue,"value")),de=w(()=>qt(e.optionLabel,"label")),ze=w(()=>qt(e.optionDisable,"disable")),at=w(()=>y.value.map(l=>pe.value(l))),en=w(()=>{const l={onInput:dl,onChange:ne,onKeydown:rl,onKeyup:il,onKeypress:ul,onFocus:ol,onClick(S){m===!0&&Ke(S)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=ne,l});J(y,l=>{r=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&d.innerLoading.value!==!0&&(s.value!==!0&&a.value!==!0||x.value!==!0)&&(R!==!0&&Fe(),(s.value===!0||a.value===!0)&&Oe(""))},{immediate:!0}),J(()=>e.fillInput,Fe),J(a,Tt),J(Z,gn);function ll(l){return e.emitValue===!0?pe.value(l):l}function kt(l){if(l>-1&&l<y.value.length)if(e.multiple===!0){const S=e.modelValue.slice();n("remove",{index:l,value:S.splice(l,1)[0]}),n("update:modelValue",S)}else n("update:modelValue",null)}function tn(l){kt(l),d.focus()}function nl(l,S){const p=ll(l);if(e.multiple!==!0){e.fillInput===!0&&Xe(de.value(l),!0,!0),n("update:modelValue",p);return}if(y.value.length===0){n("add",{index:0,value:p}),n("update:modelValue",e.multiple===!0?[p]:p);return}if(S===!0&&Vt(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const z=e.modelValue.slice();n("add",{index:z.length,value:p}),z.push(p),n("update:modelValue",z)}function qe(l,S){if(d.editable.value!==!0||l===void 0||ze.value(l)===!0)return;const p=pe.value(l);if(e.multiple!==!0){S!==!0&&(Xe(e.fillInput===!0?de.value(l):"",!0,!0),Ve()),O.value!==null&&O.value.focus(),(y.value.length===0||Ye(pe.value(y.value[0]),p)!==!0)&&n("update:modelValue",e.emitValue===!0?p:l);return}if((m!==!0||v.value===!0)&&d.focus(),ol(),y.value.length===0){const N=e.emitValue===!0?p:l;n("add",{index:0,value:N}),n("update:modelValue",e.multiple===!0?[N]:N);return}const z=e.modelValue.slice(),W=at.value.findIndex(N=>Ye(N,p));if(W>-1)n("remove",{index:W,value:z.splice(W,1)[0]});else{if(e.maxValues!==void 0&&z.length>=e.maxValues)return;const N=e.emitValue===!0?p:l;n("add",{index:z.length,value:N}),z.push(N)}n("update:modelValue",z)}function Ie(l){if(i.platform.is.desktop!==!0)return;const S=l>-1&&l<Z.value?l:-1;u.value!==S&&(u.value=S)}function it(l=1,S){if(a.value===!0){let p=u.value;do p=pl(p+l,-1,Z.value-1);while(p!==-1&&p!==u.value&&ze.value(e.options[p])===!0);u.value!==p&&(Ie(p),oe(p),S!==!0&&e.useInput===!0&&e.fillInput===!0&&ut(p>=0?de.value(e.options[p]):I,!0))}}function ln(l,S){const p=z=>Ye(pe.value(z),l);return e.options.find(p)||S.find(p)||l}function qt(l,S){const p=l!==void 0?l:S;return typeof p=="function"?p:z=>z!==null&&typeof z=="object"&&p in z?z[p]:z}function Vt(l){const S=pe.value(l);return at.value.find(p=>Ye(p,S))!==void 0}function ol(l){e.useInput===!0&&O.value!==null&&(l===void 0||O.value===l.target&&l.target.value===g.value)&&O.value.select()}function al(l){wt(l,27)===!0&&a.value===!0&&(Ke(l),Ve(),Fe()),n("keyup",l)}function il(l){const{value:S}=l.target;if(l.keyCode!==void 0){al(l);return}if(l.target.value="",b!==null&&(clearTimeout(b),b=null),h!==null&&(clearTimeout(h),h=null),Fe(),typeof S=="string"&&S.length!==0){const p=S.toLocaleLowerCase(),z=N=>{const X=e.options.find(ae=>N.value(ae).toLocaleLowerCase()===p);return X===void 0?!1:(y.value.indexOf(X)===-1?qe(X):Ve(),!0)},W=N=>{z(pe)!==!0&&(z(de)===!0||N===!0||Oe(S,!0,()=>W(!0)))};W()}else d.clearValue(l)}function ul(l){n("keypress",l)}function rl(l){if(n("keydown",l),Fn(l)===!0)return;const S=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),p=l.shiftKey!==!0&&e.multiple!==!0&&(u.value>-1||S===!0);if(l.keyCode===27){et(l);return}if(l.keyCode===9&&p===!1){Pe();return}if(l.target===void 0||l.target.id!==d.targetUid.value||d.editable.value!==!0)return;if(l.keyCode===40&&d.innerLoading.value!==!0&&a.value===!1){xe(l),He();return}if(l.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?kt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(xe(l),u.value=-1,it(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&ce.value!==void 0&&(xe(l),u.value=Math.max(-1,Math.min(Z.value,u.value+(l.keyCode===33?-1:1)*ce.value.view)),it(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(xe(l),it(l.keyCode===38?-1:1,e.multiple));const z=Z.value;if((B===void 0||$<Date.now())&&(B=""),z>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||B.length!==0)){a.value!==!0&&He(l);const W=l.key.toLocaleLowerCase(),N=B.length===1&&B[0]===W;$=Date.now()+1500,N===!1&&(xe(l),B+=W);const X=new RegExp("^"+B.split("").map($t=>ta.indexOf($t)>-1?"\\"+$t:$t).join(".*"),"i");let ae=u.value;if(N===!0||ae<0||X.test(de.value(e.options[ae]))!==!0)do ae=pl(ae+1,-1,z-1);while(ae!==u.value&&(ze.value(e.options[ae])===!0||X.test(de.value(e.options[ae]))!==!0));u.value!==ae&&Se(()=>{Ie(ae),oe(ae),ae>=0&&e.useInput===!0&&e.fillInput===!0&&ut(de.value(e.options[ae]),!0)});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||B!=="")&&(l.keyCode!==9||p===!1))){if(l.keyCode!==9&&xe(l),u.value>-1&&u.value<z){qe(e.options[u.value]);return}if(S===!0){const W=(N,X)=>{if(X){if(Vl(X)!==!0)return}else X=e.newValueMode;if(Xe("",e.multiple!==!0,!0),N==null)return;(X==="toggle"?qe:nl)(N,X==="add-unique"),e.multiple!==!0&&(O.value!==null&&O.value.focus(),Ve())};if(e.onNewValue!==void 0?n("newValue",c.value,W):W(c.value),e.multiple!==!0)return}a.value===!0?Pe():d.innerLoading.value!==!0&&He()}}function sl(){return m===!0?Y.value:F.value!==null&&F.value.contentEl!==null?F.value.contentEl:void 0}function nn(){return sl()}function on(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?ke.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?ke.value.map((l,S)=>E(Wo,{key:"option-"+S,removable:d.editable.value===!0&&ze.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:be.value,onRemove(){l.removeAtIndex(S)}},()=>E("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:de.value(l.opt)}))):[E("span",{[Me.value===!0?"innerHTML":"textContent"]:te.value})]}function cl(){if(U.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const l=t.option!==void 0?t.option:p=>E(Pl,{key:p.index,...p.itemProps},()=>E(Ht,()=>E(Hl,()=>E("span",{[p.html===!0?"innerHTML":"textContent"]:p.label}))));let S=ve("div",ot.value.map(l));return t["before-options"]!==void 0&&(S=t["before-options"]().concat(S)),qn(t["after-options"],S)}function an(l,S){const p=S===!0?{...nt.value,...d.splitAttrs.attributes.value}:void 0,z={ref:S===!0?O:void 0,key:"i_t",class:C.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...p,id:S===!0?d.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...en.value};return l!==!0&&m===!0&&(Array.isArray(z.class)===!0?z.class=[...z.class,"no-pointer-events"]:z.class+=" no-pointer-events"),E("input",z)}function dl(l){b!==null&&(clearTimeout(b),b=null),h!==null&&(clearTimeout(h),h=null),!(l&&l.target&&l.target.qComposing===!0)&&(ut(l.target.value||""),R=!0,I=c.value,d.focused.value!==!0&&(m!==!0||v.value===!0)&&d.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,Oe(c.value)},e.inputDebounce)))}function ut(l,S){c.value!==l&&(c.value=l,S===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",l):h=setTimeout(()=>{h=null,n("inputValue",l)},e.inputDebounce))}function Xe(l,S,p){R=p!==!0,e.useInput===!0&&(ut(l,!0),(S===!0||p!==!0)&&(I=l),S!==!0&&Oe(l))}function Oe(l,S,p){if(e.onFilter===void 0||S!==!0&&d.focused.value!==!0)return;d.innerLoading.value===!0?n("filterAbort"):(d.innerLoading.value=!0,f.value=!0),l!==""&&e.multiple!==!0&&y.value.length!==0&&R!==!0&&l===de.value(y.value[0])&&(l="");const z=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);k!==null&&clearTimeout(k),k=z,n("filter",l,(W,N)=>{(S===!0||d.focused.value===!0)&&k===z&&(clearTimeout(k),typeof W=="function"&&W(),f.value=!1,Se(()=>{d.innerLoading.value=!1,d.editable.value===!0&&(S===!0?a.value===!0&&Ve():a.value===!0?Tt(!0):a.value=!0),typeof N=="function"&&Se(()=>{N(o)}),typeof p=="function"&&Se(()=>{p(o)})}))},()=>{d.focused.value===!0&&k===z&&(clearTimeout(k),d.innerLoading.value=!1,f.value=!1),a.value===!0&&(a.value=!1)})}function un(){return E(Go,{ref:F,class:M.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&U.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:L.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ct.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ce.value,onScrollPassive:ie,onBeforeShow:vl,onBeforeHide:rn,onShow:sn},cl)}function rn(l){ml(l),Pe()}function sn(){ue()}function cn(l){Ke(l),O.value!==null&&O.value.focus(),v.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function dn(l){Ke(l),Se(()=>{v.value=!1})}function fn(){const l=[E(Do,{class:`col-auto ${d.fieldClass.value}`,..._.value,for:d.targetUid.value,dark:L.value,square:!0,loading:f.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...d.splitAttrs.listeners.value,onFocus:cn,onBlur:dn},{...t,rawControl:()=>d.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&l.push(E("div",{ref:Y,class:M.value+" scroll",style:e.popupContentStyle,...Ce.value,onClick:et,onScrollPassive:ie},cl())),E(mt,{ref:j,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:P,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:vl,onBeforeHide:vn,onHide:mn,onShow:hn},()=>E("div",{class:"q-select__dialog"+(L.value===!0?" q-select__dialog--dark q-dark":"")+(v.value===!0?" q-select__dialog--focused":"")},l))}function vn(l){ml(l),j.value!==null&&j.value.__updateRefocusTarget(d.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),d.focused.value=!1}function mn(l){Ve(),d.focused.value===!1&&n("blur",l),Fe()}function hn(){const l=document.activeElement;(l===null||l.id!==d.targetUid.value)&&O.value!==null&&O.value!==l&&O.value.focus(),ue()}function Pe(){s.value!==!0&&(u.value=-1,a.value===!0&&(a.value=!1),d.focused.value===!1&&(k!==null&&(clearTimeout(k),k=null),d.innerLoading.value===!0&&(n("filterAbort"),d.innerLoading.value=!1,f.value=!1)))}function He(l){d.editable.value===!0&&(m===!0?(d.onControlFocusin(l),s.value=!0,Se(()=>{d.focus()})):d.focus(),e.onFilter!==void 0?Oe(c.value):(U.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function Ve(){s.value=!1,Pe()}function Fe(){e.useInput===!0&&Xe(e.multiple!==!0&&e.fillInput===!0&&y.value.length!==0&&de.value(y.value[0])||"",!0,!0)}function Tt(l){let S=-1;if(l===!0){if(y.value.length!==0){const p=pe.value(y.value[0]);S=e.options.findIndex(z=>Ye(pe.value(z),p))}Q(S)}Ie(S)}function gn(l,S){a.value===!0&&d.innerLoading.value===!1&&(Q(-1,!0),Se(()=>{a.value===!0&&d.innerLoading.value===!1&&(l>S?Q():Tt(!0))}))}function fl(){s.value===!1&&F.value!==null&&F.value.updatePosition()}function vl(l){l!==void 0&&Ke(l),n("popupShow",l),d.hasPopupOpen=!0,d.onControlFocusin(l)}function ml(l){l!==void 0&&Ke(l),n("popupHide",l),d.hasPopupOpen=!1,d.onControlFocusout(l)}function hl(){m=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||U.value===!1:!0),P=i.platform.is.ios===!0&&m===!0&&e.useInput===!0?"fade":e.transitionShow}return Pn(hl),Hn(fl),hl(),_e(()=>{b!==null&&clearTimeout(b),h!==null&&clearTimeout(h)}),Object.assign(o,{showPopup:He,hidePopup:Ve,removeAtIndex:kt,add:nl,toggleOption:qe,getOptionIndex:()=>u.value,setOptionIndex:Ie,moveOptionSelection:it,filter:Oe,updateMenuPosition:fl,updateInputValue:Xe,isOptionSelected:Vt,getEmittingOptionValue:ll,isOptionDisabled:(...l)=>ze.value.apply(null,l)===!0,getOptionValue:(...l)=>pe.value.apply(null,l),getOptionLabel:(...l)=>de.value.apply(null,l)}),Object.assign(d,{innerValue:y,fieldClass:w(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:V,targetRef:O,hasValue:x,showPopup:He,floatingLabel:w(()=>e.hideSelected!==!0&&x.value===!0||typeof c.value=="number"||c.value.length!==0||Sl(e.displayValue)),getControlChild:()=>{if(d.editable.value!==!1&&(s.value===!0||U.value!==!0||t["no-option"]!==void 0))return m===!0?fn():un();d.hasPopupOpen===!0&&(d.hasPopupOpen=!1)},controlEvents:{onFocusin(l){d.onControlFocusin(l)},onFocusout(l){d.onControlFocusout(l,()=>{Fe(),Pe()})},onClick(l){if(et(l),m!==!0&&a.value===!0){Pe(),O.value!==null&&O.value.focus();return}He(l)}},getControl:l=>{const S=on(),p=l===!0||s.value!==!0||m!==!0;if(e.useInput===!0)S.push(an(l,p));else if(d.editable.value===!0){const W=p===!0?nt.value:void 0;S.push(E("input",{ref:p===!0?O:void 0,key:"d_t",class:"q-select__focus-target",id:p===!0?d.targetUid.value:void 0,value:te.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...W,onKeydown:rl,onKeyup:al,onKeypress:ul})),p===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&S.push(E("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:il}))}if(le.value!==void 0&&e.disable!==!0&&at.value.length!==0){const W=at.value.map(N=>E("option",{value:N,selected:!0}));S.push(E("select",{class:"hidden",name:le.value,multiple:e.multiple},W))}const z=e.useInput===!0||p!==!0?void 0:d.splitAttrs.attributes.value;return E("div",{class:"q-field__native row items-center",...z,...d.splitAttrs.listeners.value},S)},getInnerAppend:()=>e.loading!==!0&&f.value!==!0&&e.hideDropdownIcon!==!0?[E(De,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Ue.value})]:null}),Ll(d)}});const oa={__name:"KeyboardSelector",setup(e){const t=Qe(),n=q("");return zl(()=>{t.lang.lang==="\u0420\u0443\u0441\u0441\u043A\u0438\u0439"?(n.value="(RUS) Public",t.currentKeyboardId=2):(n.value="(ENG) Public",t.currentKeyboardId=1)}),J(n,o=>{o!==""&&(t.currentKeyboardId=t.getKeyboardByName(o).id)}),t.$subscribe(()=>{const o=t.currentKeyboardId;if(o!==null){const i=t.keyboards.find(a=>a.id===o).name;n.value=i}else n.value=""},{detached:!0}),(o,i)=>(G(),lt(na,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a),options:T(t).getKeyboardNames,class:"q-pb-md","popup-content-class":"bg-deep-purple-1",standout:"","label-color":"pink-10","bg-color":"deep-purple-2",label:T(t).lang.langSelectorLable},null,8,["modelValue","options","label"]))}},aa={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},zt={xs:2,sm:4,md:8,lg:16,xl:24};var Tl=he({name:"QSeparator",props:{...xt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ge(),n=_t(e,t.proxy.$q),o=w(()=>e.vertical===!0?"vertical":"horizontal"),i=w(()=>` q-separator--${o.value}`),a=w(()=>e.inset!==!1?`${i.value}-${aa[e.inset]}`:""),s=w(()=>`q-separator${i.value}${a.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),u=w(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const v=e.spaced===!0?`${zt.md}px`:e.spaced in zt?`${zt[e.spaced]}px`:e.spaced,f=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${f[0]}`]=c[`margin${f[1]}`]=v}return c});return()=>E("hr",{class:s.value,style:u.value,"aria-orientation":o.value})}}),ia=he({name:"QTooltip",inheritAttrs:!1,props:{...Ul,...jt,...Jt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:bt},self:{type:String,default:"top middle",validator:bt},offset:{type:Array,default:()=>[14,14],validator:Jl},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Qt],setup(e,{slots:t,emit:n,attrs:o}){let i,a;const s=ge(),{proxy:{$q:u}}=s,c=q(null),v=q(!1),f=w(()=>pt(e.anchor,u.lang.rtl)),b=w(()=>pt(e.self,u.lang.rtl)),h=w(()=>e.persistent!==!0),{registerTick:r,removeTick:m}=Yt(),{registerTimeout:R}=Ut(),{transitionProps:k,transitionStyle:I}=Zt(e),{localScrollTarget:P,changeScrollEvent:B,unconfigureScrollTarget:$}=Xl(e,ue),{anchorEl:V,canShow:O,anchorEvents:F}=Gl({showing:v,configureAnchorEl:oe}),{show:j,hide:Y}=Gt({showing:v,canShow:O,handleShow:se,handleHide:fe,hideOnRouteChange:h,processOnMount:!0});Object.assign(F,{delayShow:ve,delayHide:ie});const{showPortal:le,hidePortal:ne,renderPortal:Z}=el(s,c,y,"tooltip");if(u.platform.is.mobile===!0){const _={anchorEl:V,innerRef:c,onClickOutside(x){return Y(x),x.target.classList.contains("q-dialog__backdrop")&&xe(x),!0}},L=w(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);J(L,x=>{(x===!0?Yl:yt)(_)}),_e(()=>{yt(_)})}function se(_){le(),r(()=>{a=new MutationObserver(()=>Q()),a.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Q(),ue()}),i===void 0&&(i=J(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,Q)),R(()=>{le(!0),n("show",_)},e.transitionDuration)}function fe(_){m(),ne(),ce(),R(()=>{ne(!0),n("hide",_)},e.transitionDuration)}function ce(){a!==void 0&&(a.disconnect(),a=void 0),i!==void 0&&(i(),i=void 0),$(),Ot(F,"tooltipTemp")}function Q(){tl({targetEl:c.value,offset:e.offset,anchorEl:V.value,anchorOrigin:f.value,selfOrigin:b.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ve(_){if(u.platform.is.mobile===!0){Ft(),document.body.classList.add("non-selectable");const L=V.value,x=["touchmove","touchcancel","touchend","click"].map(C=>[L,C,"delayHide","passiveCapture"]);ft(F,"tooltipTemp",x)}R(()=>{j(_)},e.delay)}function ie(_){u.platform.is.mobile===!0&&(Ot(F,"tooltipTemp"),Ft(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),R(()=>{Y(_)},e.hideDelay)}function oe(){if(e.noParentEvent===!0||V.value===null)return;const _=u.platform.is.mobile===!0?[[V.value,"touchstart","delayShow","passive"]]:[[V.value,"mouseenter","delayShow","passive"],[V.value,"mouseleave","delayHide","passive"]];ft(F,"anchor",_)}function ue(){if(V.value!==null||e.scrollTarget!==void 0){P.value=Rl(V.value,e.scrollTarget);const _=e.noParentEvent===!0?Q:Y;B(P.value,_)}}function d(){return v.value===!0?E("div",{...o,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,I.value],role:"tooltip"},Ae(t.default)):null}function y(){return E(dt,k.value,d)}return _e(ce),Object.assign(s.proxy,{updatePosition:Q}),Z}});const ua={class:"text-h6"},ra={class:"h2"},sa={class:"decrypt-copy-tooltip"},$l={__name:"ModalDialog",props:{modelValue:{type:Boolean,required:!0,default:!1},title:{type:String,default:""},text:{type:String,default:""},tooltip:{type:String,default:""}},emits:["update:modelValue","clear-text"],setup(e,{emit:t}){const n=Qe(),o=e,i=t,a=q(null);Xn(a,v=>i("update:modelValue",!1));const{copy:s,copied:u}=Yn({source:o.text}),c=q(!1);return J(u,v=>{v?c.value=!0:c.value=!1}),(v,f)=>(G(),lt(mt,{persistent:"",modelValue:o.modelValue,"onUpdate:modelValue":f[4]||(f[4]=b=>o.modelValue=b)},{default:K(()=>[A(Kt,{ref_key:"clickOutsideRef",ref:a,class:"secret-answer"},{default:K(()=>[A(tt,null,{default:K(()=>[H("div",ua,D(o.title),1)]),_:1}),A(Tl),A(tt,{style:{"max-height":"50vh"},class:"scroll"},{default:K(()=>[H("p",ra,D(e.text),1)]),_:1}),A(Tl),A(Lt,{align:"right"},{default:K(()=>[H("div",null,[A(re,{onClick:f[0]||(f[0]=b=>T(s)(e.text)),flat:"","no-caps":""},{default:K(()=>[we(D(T(n).lang.btnCopy),1)]),_:1}),H("div",sa,[A(ia,{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=b=>c.value=b),offset:[0,45],anchor:"top middle",self:"bottom middle"},{default:K(()=>[we(D(T(n).lang.copyTooltip),1)]),_:1},8,["modelValue"])])]),A(re,{onClick:f[2]||(f[2]=b=>v.$emit("clear-text")),flat:"","no-caps":""},{default:K(()=>[we(D(T(n).lang.btnClear),1)]),_:1}),A(re,{flat:"",label:"Ok",onClick:f[3]||(f[3]=b=>v.$emit("update:modelValue",!1))})]),_:1})]),_:1},512)]),_:1},8,["modelValue"]))}};const ca={class:"parent-container q-pt-md"},da={class:"child-container"},fa={class:"h1 text-center q-pb-md"},va={class:"q-pb-md"},ma={class:"crypt-decrypt",ref:"cryptedRef"},ha={class:"encrypt"},ga={class:"q-pb-md q-pr-md"},ya={class:"q-pr-md q-pb-md"},ba={class:"decrypt"},pa={class:"q-pr-md q-pb-md"},Sa={class:"q-pr-md q-pb-md"},wa={__name:"CryptDecrypt",setup(e){const t=Qe();let n=q(""),o=q(""),i=q(""),a=q("");const s=q(!1),u=q(!1),c=q(t.getKeyboardById(t.currentKeyboardId));t.$subscribe(()=>{c.value=t.getKeyboardById(t.currentKeyboardId)},{detached:!0});const v=()=>{const h=n.value.split(""),r=[];h.forEach(m=>r.push(c.value[m])),i.value=r.join(""),s.value=!0},f=()=>{const b=o.value.split(""),h=[];for(let r=0;r<=b.length;r++)Object.keys(c.value).find(m=>{c.value[m]===b[r]&&h.push(m)});a.value=h.join(""),u.value=!0};return(b,h)=>(G(),ee("div",ca,[H("div",da,[H("div",fa,D(T(t).lang.cryptTitle),1),H("div",va,D(T(t).lang.cryptText),1),A(oa),H("div",ma,[H("div",ha,[A(Dt,{modelValue:T(n),"onUpdate:modelValue":h[1]||(h[1]=r=>rt(n)?n.value=r:n=r),placeholder:T(t).lang.placeholderCrypt,"eye-icon":!0},{buttons:K(()=>[H("div",ga,[A(re,{onClick:v,class:"btn",disabled:!T(n),"no-caps":""},{default:K(()=>[we(D(T(t).lang.btnCrypt),1)]),_:1},8,["disabled"])]),H("div",ya,[A(re,{class:"btn",disabled:!T(i),onClick:h[0]||(h[0]=r=>s.value=!0),"no-caps":""},{default:K(()=>[we(D(T(t).lang.btnShowResult),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue","placeholder"]),A($l,{modelValue:s.value,"onUpdate:modelValue":h[2]||(h[2]=r=>s.value=r),title:T(t).lang.popupCryptTitle,text:T(i),tooltip:"Crypt",onClearText:h[3]||(h[3]=r=>rt(i)?i.value="":i="")},null,8,["modelValue","title","text"])]),H("div",ba,[A(Dt,{modelValue:T(o),"onUpdate:modelValue":h[5]||(h[5]=r=>rt(o)?o.value=r:o=r),placeholder:T(t).lang.placeholderDecrypt,"eye-icon":!0},{buttons:K(()=>[H("div",pa,[A(re,{onClick:f,class:"btn",disabled:!T(o),"no-caps":""},{default:K(()=>[we(D(T(t).lang.btnDecrypt),1)]),_:1},8,["disabled"])]),H("div",Sa,[A(re,{class:"btn",disabled:!T(a),onClick:h[4]||(h[4]=r=>u.value=!0),"no-caps":""},{default:K(()=>[we(D(T(t).lang.btnShowResult),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue","placeholder"]),A($l,{modelValue:u.value,"onUpdate:modelValue":h[6]||(h[6]=r=>u.value=r),title:T(t).lang.popupDecryptTitle,text:T(a),onClearText:h[7]||(h[7]=r=>rt(a)?a.value="":a="")},null,8,["modelValue","title","text"])])],512)])]))}},ka={__name:"IndexPage",setup(e){return Ln({name:"IndexPage"}),(t,n)=>(G(),lt(Jn,{class:"flex flex-center",style:{"min-height":"0"}},{default:K(()=>[A(wa),A(bo),A(Ro)]),_:1}))}};export{ka as default};
