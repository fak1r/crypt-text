import{c as ge,h as $e,m as gn,n as yn,j as bn,o as ut,p as Bl,e as Sn,Q as de,q as pn,r as wn,f as _n,R as xn,a as rt,s as Cn,b as qn}from"./QBtn.1a10301d.js";import{i as yl,e as Fe,j as kn,A as Vn,c as _,h as $,g as ye,r as E,o as $l,D as J,E as ae,Q as z,M as W,G as B,S as Ze,R as Ge,P as Pt,K as $t,_ as Al,b as xe,d as we,ab as bl,C as Tn,a2 as En,ac as Bn,W as wt,k as Nt,w as G,X as st,F as M,J as R,L as me,I as Qt,z as ct,t as Je,q as dt,x as It,l as Ot,y as _e,v as $n,n as An,a1 as Mn,ad as Ml,a4 as zn,a3 as Pn,ae as In,af as Ue,u as Le,a5 as On,H as De,V as Hn}from"./index.64e9a76b.js";import{o as _t,e as xt,f as Ct,v as Sl,w as Fn,u as jt,a as Ut,g as Xt,c as Zt,h as Ln,x as zl,i as Dn,p as Pl,Q as Ht,s as Il,q as Ft,r as Ol,t as Rn,d as Lt,n as Kn,k as Hl,y as Gt,z as Fl,A as Ll,B as Dl,C as Wn,D as Nn,E as pl,F as wl,G as Qn,H as jn}from"./QItem.ea745804.js";var Un=ge({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=ye(),o=yl(kn,Fe);if(o===Fe)return console.error("QPage needs to be a deep child of QLayout"),Fe;if(yl(Vn,Fe)===Fe)return console.error("QPage needs to be child of QPageContainer"),Fe;const a=_(()=>{const r=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const c=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(r,c)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-r+"px":n.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":n.screen.height-r+"px"}}),s=_(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>$("main",{class:s.value,style:a.value},$e(t.default))}});const Xn={class:"parent-container"},Zn={class:"child-container"},Gn={class:"h1 text-center"},Yn={class:"q-py-md"},Jn={colspan:"16"},eo={class:"h2"},to=["onClick"],lo={class:"no-wrap"},no={class:"no-wrap"},oo={colspan:"4"},ao={class:"h2"},io={colspan:"30"},uo={class:"alert"},ro={key:0,class:"h2 repeated"},so={key:1,class:"h2 newRemove"},co={key:2,class:"h2 newAdd"},fo=["onClick"],vo={__name:"KeyboardBuilder",setup(e){const t=_t(),n=E(t.getKeyboardById(t.currentKeyboardId));t.$subscribe(()=>{n.value=t.getKeyboardById(t.currentKeyboardId)},{detached:!0});const o=E(t.symbols);let i=E(""),a=E(""),s=E(""),r=!1,c=!1,v="";const d=(P,H)=>Object.keys(H).find(V=>H[V]===P),p=(P,H,V=!1)=>{s.value=!1;const g=d(P,H);if(g?((g===v||v==="")&&(r=!r),g!=v&&r===!1&&(r=!0),v=g,i.value=P,r||(i.value="")):(P===o.value[a.value]?c=!c:c=!0,v=g,a.value=P,c||(a.value="")),V&&Object.values(H).find(m=>m===P)&&Object.values(o.value).find(m=>m===P)?((!r||!c)&&(s.value=!1),(r||c)&&(s.value=!0)):s.value=!1,i.value&&a.value&&!s.value){const m=d(i.value,H);H[m]=a.value,i.value="",a.value="",r=!1,c=!1,s.value=!1,v=""}},x=(P,H)=>Object.entries(P).reduce((g,[m,I],F)=>{const Q=Math.floor(F/H);return g[Q]||(g[Q]={}),g[Q][m]=I,g},[]);let f=E(16),w=0;const L=()=>{f.value=Math.min(34,16+Math.floor((Math.max(w,450)-450)/54)*2)};$l(()=>{w=document.querySelector(".parent-container").offsetWidth,L()}),window.addEventListener("resize",()=>{w=document.querySelector(".parent-container").offsetWidth,L()}),document.addEventListener("keydown",P=>{c=!1,s.value=!1,t.onInputFlag||q(n.value,P)});const q=(P,H)=>{if(P[H.key]&&H.ctrlKey===!1&&((H.key===v||v==="")&&(r=!r),H.key!=v&&r===!1&&(r=!0),v=H.key,i.value=P[H.key],r||(i.value="")),H.key==="Escape"&&(i.value="",a.value=""),a.value){const V=d(i.value,P);V&&(P[V]=a.value,i.value="",a.value="",r=!1,c=!1,s.value=!1)}};return(P,H)=>(J(),ae("div",Xn,[z("div",Zn,[z("div",Gn,W(B(t).lang.builderTitle),1),z("div",Yn,W(B(t).lang.builderText),1),z("table",null,[z("tr",null,[z("td",Jn,[z("div",eo,W(B(t).lang.builderKeyboard),1)])]),(J(!0),ae(Ze,null,Ge(x(n.value,B(f)),(V,g)=>(J(),ae("tr",{key:g,class:"text-center"},[(J(!0),ae(Ze,null,Ge(V,(m,I)=>(J(),ae("td",{key:I,class:Pt(["h2",{yellow:B(i)===m,pink:B(i)!==m}]),onClick:F=>p(m,n.value)},[z("div",lo,W(I)+":",1),z("div",no,W(m),1)],10,to))),128))]))),128)),z("tr",null,[z("td",oo,[z("div",ao,W(B(t).lang.builderSymbols),1)]),z("td",io,[z("div",uo,[B(s)?(J(),ae("div",ro,W(B(t).lang.builderChooseWarning),1)):$t("",!0),B(i)&&!B(s)?(J(),ae("div",so,W(B(t).lang.builderChooseNewSymbol),1)):$t("",!0),B(a)&&!B(s)?(J(),ae("div",co,W(B(t).lang.builderChooseOldSymbol),1)):$t("",!0)])])]),(J(!0),ae(Ze,null,Ge(x(o.value,B(f)),(V,g)=>(J(),ae("tr",{key:g,class:"text-center"},[(J(!0),ae(Ze,null,Ge(V,(m,I)=>(J(),ae("td",{key:I,class:Pt(["h2",{yellow:B(a)===m,blue:B(a)!==m}]),onClick:F=>p(m,n.value,!0)},W(m),11,fo))),128))]))),128))])])]))}};var Ye=ge({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=_(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>$(e.tag,{class:n.value},$e(t.default))}}),Dt=ge({name:"QCardActions",props:{...gn,vertical:Boolean},setup(e,{slots:t}){const n=yn(e),o=_(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>$("div",{class:o.value},$e(t.default))}}),Rt=ge({name:"QCard",props:{...xt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ye(),o=Ct(e,n),i=_(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>$(e.tag,{class:i.value},$e(t.default))}});function Yt(){let e;const t=ye();function n(){e=void 0}return Al(n),xe(n),{removeTick:n,registerTick(o){e=o,we(()=>{e===o&&(bn(t)===!1&&e(),e=void 0)})}}}const Jt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function el(e,t=()=>{},n=()=>{}){return{transitionProps:_(()=>{const o=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:_(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let mo=1,ho=document.body;function go(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${mo++}`:e,bl.globalNodes!==void 0){const o=bl.globalNodes.class;o!==void 0&&(n.className=o)}return ho.appendChild(n),n}function yo(e){e.remove()}const Re=[];function bo(e){return Re.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Rl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ut(e)}else if(e.__qPortal===!0){const n=ut(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=ut(e)}while(e!=null)}function So(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Rl(e,t);continue}e.hide(t)}e=ut(e)}}function po(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function tl(e,t,n,o){const i=E(!1),a=E(!1);let s=null;const r={},c=o==="dialog"&&po(e);function v(p){if(p===!0){Sl(r),a.value=!0;return}a.value=!1,i.value===!1&&(c===!1&&s===null&&(s=go(!1,o)),i.value=!0,Re.push(e.proxy),Fn(r))}function d(p){if(a.value=!1,p!==!0)return;Sl(r),i.value=!1;const x=Re.indexOf(e.proxy);x!==-1&&Re.splice(x,1),s!==null&&(yo(s),s=null)}return Tn(()=>{d(!0)}),e.proxy.__qPortal=!0,En(e.proxy,"contentEl",()=>t.value),{showPortal:v,hidePortal:d,portalIsActive:i,portalIsAccessible:a,renderPortal:()=>c===!0?n():i.value===!0?[$(Bn,{to:s},n())]:void 0}}const Te=[];let We;function wo(e){We=e.keyCode===27}function _o(){We===!0&&(We=!1)}function xo(e){We===!0&&(We=!1,wt(e,27)===!0&&Te[Te.length-1](e))}function Kl(e){window[e]("keydown",wo),window[e]("blur",_o),window[e]("keyup",xo),We=!1}function Wl(e){Nt.is.desktop===!0&&(Te.push(e),Te.length===1&&Kl("addEventListener"))}function ft(e){const t=Te.indexOf(e);t>-1&&(Te.splice(t,1),Te.length===0&&Kl("removeEventListener"))}const Ee=[];function Nl(e){Ee[Ee.length-1](e)}function Ql(e){Nt.is.desktop===!0&&(Ee.push(e),Ee.length===1&&document.body.addEventListener("focusin",Nl))}function Kt(e){const t=Ee.indexOf(e);t>-1&&(Ee.splice(t,1),Ee.length===0&&document.body.removeEventListener("focusin",Nl))}let at=0;const Co={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},_l={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var vt=ge({name:"QDialog",inheritAttrs:!1,props:{...jt,...Jt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Ut,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const i=ye(),a=E(null),s=E(!1),r=E(!1);let c=null,v=null,d,p;const x=_(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:f}=Dn(),{registerTimeout:w}=Xt(),{registerTick:L,removeTick:q}=Yt(),{transitionProps:P,transitionStyle:H}=el(e,()=>_l[e.position][0],()=>_l[e.position][1]),{showPortal:V,hidePortal:g,portalIsAccessible:m,renderPortal:I}=tl(i,a,D,"dialog"),{hide:F}=Zt({showing:s,hideOnRouteChange:x,handleShow:fe,handleHide:se,processOnMount:!0}),{addToHistory:Q,removeFromHistory:Z}=Ln(s,F,x),te=_(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Co[e.position]}`+(r.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),le=_(()=>s.value===!0&&e.seamless!==!0),Y=_(()=>e.autoClose===!0?{onClick:u}:{}),re=_(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${le.value===!0?"modal":"seamless"}`,o.class]);G(()=>e.maximized,C=>{s.value===!0&&ue(C)}),G(le,C=>{f(C),C===!0?(Ql(k),Wl(ie)):(Kt(k),ft(ie))});function fe(C){Q(),v=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ue(e.maximized),V(),r.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),L(j)):q(),w(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:T,bottom:A}=document.activeElement.getBoundingClientRect(),{innerHeight:U}=window,h=window.visualViewport!==void 0?window.visualViewport.height:U;T>0&&A>h/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-h,A>=U?1/0:Math.ceil(document.scrollingElement.scrollTop+A-h/2))),document.activeElement.scrollIntoView()}p=!0,a.value.click(),p=!1}V(!0),r.value=!1,n("show",C)},e.transitionDuration)}function se(C){q(),Z(),ne(!0),r.value=!0,g(),v!==null&&(((C&&C.type.indexOf("key")===0?v.closest('[tabindex]:not([tabindex^="-"])'):void 0)||v).focus(),v=null),w(()=>{g(!0),r.value=!1,n("hide",C)},e.transitionDuration)}function j(C){zl(()=>{let T=a.value;T===null||T.contains(document.activeElement)===!0||(T=(C!==""?T.querySelector(C):null)||T.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||T.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||T.querySelector("[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function ve(C){C&&typeof C.focus=="function"?C.focus({preventScroll:!0}):j(),n("shake");const T=a.value;T!==null&&(T.classList.remove("q-animate--scale"),T.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,a.value!==null&&(T.classList.remove("q-animate--scale"),j())},170))}function ie(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ve():(n("escapeKey"),F()))}function ne(C){c!==null&&(clearTimeout(c),c=null),(C===!0||s.value===!0)&&(ue(!1),e.seamless!==!0&&(f(!1),Kt(k),ft(ie))),C!==!0&&(v=null)}function ue(C){C===!0?d!==!0&&(at<1&&document.body.classList.add("q-body--dialog"),at++,d=!0):d===!0&&(at<2&&document.body.classList.remove("q-body--dialog"),at--,d=!1)}function u(C){p!==!0&&(F(C),n("click",C))}function y(C){e.persistent!==!0&&e.noBackdropDismiss!==!0?F(C):e.noShake!==!0&&ve()}function k(C){e.allowFocusOutside!==!0&&m.value===!0&&Bl(a.value,C.target)!==!0&&j('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:j,shake:ve,__updateRefocusTarget(C){v=C||null}}),xe(ne);function D(){return $("div",{role:"dialog","aria-modal":le.value===!0?"true":"false",...o,class:re.value},[$(st,{name:"q-transition--fade",appear:!0},()=>le.value===!0?$("div",{class:"q-dialog__backdrop fixed-full",style:H.value,"aria-hidden":"true",tabindex:-1,onClick:y}):null),$(st,P.value,()=>s.value===!0?$("div",{ref:a,class:te.value,style:H.value,tabindex:-1,...Y.value},$e(t.default)):null)])}return I}});function xl(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var mt=Sn({name:"close-popup",beforeMount(e,{value:t}){const n={depth:xl(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=bo(e);i!==void 0&&So(i,o,n.depth)})},handlerKey(o){wt(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=xl(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const qo={class:"parent-container"},ko={class:"child-container"},Vo={class:"q-pt-md"},To={class:"alert-same-name"},Eo={class:"q-ml-sm"},Bo={__name:"KeyList",setup(e){const t=_t(),n=E(!1),o=E(0),i=E(""),a=E(""),s=()=>{t.keyboards.find(d=>d.name===i.value)?a.value=t.lang.repeatedKey:(t.createNewKeyboard(i.value),a.value="")};t.$subscribe(()=>{a.value!==""&&(a.value=t.lang.repeatedKey)},{detached:!0});const r=E(null),{focused:c}=Pl(r);G(c,d=>{d?(t.onInput(!0),a.value=""):t.onInput(!1)});const v=_(()=>d=>d.id===t.currentKeyboardId?"bg-green-2":"bg-orange-2");return(d,p)=>(J(),ae("div",qo,[z("div",ko,[z("div",Vo,[M(Ht,{ref_key:"inputRef",ref:r,modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=x=>i.value=x),color:"teal",placeholder:B(t).lang.placeholderNewKeyboard,outlined:"",type:"text"},null,8,["modelValue","placeholder"]),M(de,{onClick:s,class:"btn q-my-md","no-caps":""},{default:R(()=>[me(W(B(t).lang.btnSaveKey),1)]),_:1}),z("span",To,W(a.value),1),M(Rn,{separator:"",bordered:""},{default:R(()=>[(J(!0),ae(Ze,null,Ge(B(t).keyboards,x=>(J(),Qt(Il,{class:Pt(v.value(x)),key:x.id},{default:R(()=>[M(Ft,null,{default:R(()=>[M(Ol,null,{default:R(()=>[me(W(x.name),1)]),_:2},1024)]),_:2},1024),M(Ft,{side:""},{default:R(()=>[M(de,{color:"red-5",icon:"delete",flat:"",round:"",dense:"",onClick:f=>(o.value=x.id,n.value=!0)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1}),M(vt,{modelValue:n.value,"onUpdate:modelValue":p[2]||(p[2]=x=>n.value=x),persistent:""},{default:R(()=>[M(Rt,null,{default:R(()=>[M(Ye,{class:"row items-center"},{default:R(()=>[z("span",Eo,W(B(t).lang.deleteKeyNotice),1)]),_:1}),M(Dt,{align:"right"},{default:R(()=>[ct(M(de,{flat:"",label:"Cancel",color:"primary"},null,512),[[mt]]),ct(M(de,{flat:"",label:"Delete","text-color":"red",color:"primary",onClick:p[1]||(p[1]=x=>B(t).deleteKeyboard(o.value))},null,512),[[mt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]))}},jl={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Ul({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:a}=ye(),s=E(null);let r=null;function c(f){return s.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const v={};n===void 0&&(Object.assign(v,{hide(f){i.hide(f)},toggle(f){i.toggle(f),f.qAnchorHandled=!0},toggleKey(f){wt(f,13)===!0&&v.toggle(f)},contextClick(f){i.hide(f),Je(f),we(()=>{i.show(f),f.qAnchorHandled=!0})},prevent:Je,mobileTouch(f){if(v.mobileCleanup(f),c(f)!==!0)return;i.hide(f),s.value.classList.add("non-selectable");const w=f.target;dt(v,"anchor",[[w,"touchmove","mobileCleanup","passive"],[w,"touchend","mobileCleanup","passive"],[w,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,i.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){s.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&f!==void 0&&Lt()}}),n=function(f=o.contextMenu){if(o.noParentEvent===!0||s.value===null)return;let w;f===!0?i.$q.platform.is.mobile===!0?w=[[s.value,"touchstart","mobileTouch","passive"]]:w=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:w=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],dt(v,"anchor",w)});function d(){It(v,"anchor")}function p(f){for(s.value=f;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;n()}function x(){if(o.target===!1||o.target===""||i.$el.parentNode===null)s.value=null;else if(o.target===!0)p(i.$el.parentNode);else{let f=o.target;if(typeof o.target=="string")try{f=document.querySelector(o.target)}catch{f=void 0}f!=null?(s.value=f.$el||f,n()):(s.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return G(()=>o.contextMenu,f=>{s.value!==null&&(d(),n(f))}),G(()=>o.target,()=>{s.value!==null&&d(),x()}),G(()=>o.noParentEvent,f=>{s.value!==null&&(f===!0?d():n())}),$l(()=>{x(),t!==!0&&o.modelValue===!0&&s.value===null&&a("update:modelValue",!1)}),xe(()=>{r!==null&&clearTimeout(r),d()}),{anchorEl:s,canShow:c,anchorEvents:v}}function Xl(e,t){const n=E(null);let o;function i(r,c){const v=`${c!==void 0?"add":"remove"}EventListener`,d=c!==void 0?c:o;r!==window&&r[v]("scroll",d,Ot.passive),window[v]("scroll",d,Ot.passive),o=c}function a(){n.value!==null&&(i(n.value),n.value=null)}const s=G(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return xe(s),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:i}}const{notPassiveCapture:ht}=Ot,Be=[];function gt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Re.length-1;for(;n>=0;){const o=Re[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=Be.length-1;o>=0;o--){const i=Be[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Zl(e){Be.push(e),Be.length===1&&(document.addEventListener("mousedown",gt,ht),document.addEventListener("touchstart",gt,ht))}function yt(e){const t=Be.findIndex(n=>n===e);t>-1&&(Be.splice(t,1),Be.length===0&&(document.removeEventListener("mousedown",gt,ht),document.removeEventListener("touchstart",gt,ht)))}let Cl,ql;function bt(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Gl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Wt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Wt[`${e}#ltr`]=e,Wt[`${e}#rtl`]=e});function St(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Wt[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function $o(e,t){let{top:n,left:o,right:i,bottom:a,width:s,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],i+=t[0],s+=t[0],r+=t[1]),{top:n,bottom:a,height:r,left:o,right:i,width:s,middle:o+(i-o)/2,center:n+(a-n)/2}}function Ao(e,t,n){let{top:o,left:i}=e.getBoundingClientRect();return o+=t.top,i+=t.left,n!==void 0&&(o+=n[1],i+=n[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function Mo(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function kl(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function ll(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ll(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:i,anchorOrigin:a,selfOrigin:s,absoluteOffset:r,fit:c,cover:v,maxHeight:d,maxWidth:p}=e;if(Nt.is.ios===!0&&window.visualViewport!==void 0){const I=document.body.style,{offsetLeft:F,offsetTop:Q}=window.visualViewport;F!==Cl&&(I.setProperty("--q-pe-left",F+"px"),Cl=F),Q!==ql&&(I.setProperty("--q-pe-top",Q+"px"),ql=Q)}const{scrollLeft:x,scrollTop:f}=n,w=r===void 0?$o(i,v===!0?[0,0]:o):Ao(i,r,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:p||"100vw",maxHeight:d||"100vh",visibility:"visible"});const{offsetWidth:L,offsetHeight:q}=n,{elWidth:P,elHeight:H}=c===!0||v===!0?{elWidth:Math.max(w.width,L),elHeight:v===!0?Math.max(w.height,q):q}:{elWidth:L,elHeight:q};let V={maxWidth:p,maxHeight:d};(c===!0||v===!0)&&(V.minWidth=w.width+"px",v===!0&&(V.minHeight=w.height+"px")),Object.assign(n.style,V);const g=Mo(P,H);let m=kl(w,g,a,s);if(r===void 0||o===void 0)At(m,w,g,a,s);else{const{top:I,left:F}=m;At(m,w,g,a,s);let Q=!1;if(m.top!==I){Q=!0;const Z=2*o[1];w.center=w.top-=Z,w.bottom-=Z+2}if(m.left!==F){Q=!0;const Z=2*o[0];w.middle=w.left-=Z,w.right-=Z+2}Q===!0&&(m=kl(w,g,a,s),At(m,w,g,a,s))}V={top:m.top+"px",left:m.left+"px"},m.maxHeight!==void 0&&(V.maxHeight=m.maxHeight+"px",w.height>m.maxHeight&&(V.minHeight=V.maxHeight)),m.maxWidth!==void 0&&(V.maxWidth=m.maxWidth+"px",w.width>m.maxWidth&&(V.minWidth=V.maxWidth)),Object.assign(n.style,V),n.scrollTop!==f&&(n.scrollTop=f),n.scrollLeft!==x&&(n.scrollLeft=x)}function At(e,t,n,o,i){const a=n.bottom,s=n.right,r=Kn(),c=window.innerHeight-r,v=document.body.clientWidth;if(e.top<0||e.top+a>c)if(i.vertical==="center")e.top=t[o.vertical]>c/2?Math.max(0,c-a):0,e.maxHeight=Math.min(a,c);else if(t[o.vertical]>c/2){const d=Math.min(c,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,d),e.top=Math.max(0,d-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,c-e.top);if(e.left<0||e.left+s>v)if(e.maxWidth=Math.min(s,v),i.horizontal==="middle")e.left=t[o.horizontal]>v/2?Math.max(0,v-s):0;else if(t[o.horizontal]>v/2){const d=Math.min(v,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(s,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(s,v-e.left)}var Vl=ge({name:"QTooltip",inheritAttrs:!1,props:{...jl,...jt,...Jt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:bt},self:{type:String,default:"top middle",validator:bt},offset:{type:Array,default:()=>[14,14],validator:Gl},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Ut],setup(e,{slots:t,emit:n,attrs:o}){let i,a;const s=ye(),{proxy:{$q:r}}=s,c=E(null),v=E(!1),d=_(()=>St(e.anchor,r.lang.rtl)),p=_(()=>St(e.self,r.lang.rtl)),x=_(()=>e.persistent!==!0),{registerTick:f,removeTick:w}=Yt(),{registerTimeout:L}=Xt(),{transitionProps:q,transitionStyle:P}=el(e),{localScrollTarget:H,changeScrollEvent:V,unconfigureScrollTarget:g}=Xl(e,ue),{anchorEl:m,canShow:I,anchorEvents:F}=Ul({showing:v,configureAnchorEl:ne}),{show:Q,hide:Z}=Zt({showing:v,canShow:I,handleShow:re,handleHide:fe,hideOnRouteChange:x,processOnMount:!0});Object.assign(F,{delayShow:ve,delayHide:ie});const{showPortal:te,hidePortal:le,renderPortal:Y}=tl(s,c,y,"tooltip");if(r.platform.is.mobile===!0){const k={anchorEl:m,innerRef:c,onClickOutside(C){return Z(C),C.target.classList.contains("q-dialog__backdrop")&&_e(C),!0}},D=_(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);G(D,C=>{(C===!0?Zl:yt)(k)}),xe(()=>{yt(k)})}function re(k){te(),f(()=>{a=new MutationObserver(()=>j()),a.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),j(),ue()}),i===void 0&&(i=G(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,j)),L(()=>{te(!0),n("show",k)},e.transitionDuration)}function fe(k){w(),le(),se(),L(()=>{le(!0),n("hide",k)},e.transitionDuration)}function se(){a!==void 0&&(a.disconnect(),a=void 0),i!==void 0&&(i(),i=void 0),g(),It(F,"tooltipTemp")}function j(){ll({targetEl:c.value,offset:e.offset,anchorEl:m.value,anchorOrigin:d.value,selfOrigin:p.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ve(k){if(r.platform.is.mobile===!0){Lt(),document.body.classList.add("non-selectable");const D=m.value,C=["touchmove","touchcancel","touchend","click"].map(T=>[D,T,"delayHide","passiveCapture"]);dt(F,"tooltipTemp",C)}L(()=>{Q(k)},e.delay)}function ie(k){r.platform.is.mobile===!0&&(It(F,"tooltipTemp"),Lt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),L(()=>{Z(k)},e.hideDelay)}function ne(){if(e.noParentEvent===!0||m.value===null)return;const k=r.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];dt(F,"anchor",k)}function ue(){if(m.value!==null||e.scrollTarget!==void 0){H.value=Hl(m.value,e.scrollTarget);const k=e.noParentEvent===!0?j:Z;V(H.value,k)}}function u(){return v.value===!0?$("div",{...o,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,P.value],role:"tooltip"},$e(t.default)):null}function y(){return $(st,q.value,u)}return xe(se),Object.assign(s.proxy,{updatePosition:j}),Y}});const zo={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Mt={xs:2,sm:4,md:8,lg:16,xl:24};var it=ge({name:"QSeparator",props:{...xt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ye(),n=Ct(e,t.proxy.$q),o=_(()=>e.vertical===!0?"vertical":"horizontal"),i=_(()=>` q-separator--${o.value}`),a=_(()=>e.inset!==!1?`${i.value}-${zo[e.inset]}`:""),s=_(()=>`q-separator${i.value}${a.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),r=_(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const v=e.spaced===!0?`${Mt.md}px`:e.spaced in Mt?`${Mt[e.spaced]}px`:e.spaced,d=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${d[0]}`]=c[`margin${d[1]}`]=v}return c});return()=>$("hr",{class:s.value,style:r.value,"aria-orientation":o.value})}}),Po=ge({name:"QField",inheritAttrs:!1,props:{...Gt,tag:{type:String,default:"label"}},emits:Fl,setup(){return Ll(Dl({requiredForAttr:!1,tagProp:!0}))}});const Io={xs:8,sm:10,md:14,lg:20,xl:24};var Oo=ge({name:"QChip",props:{...xt,...pn,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=ye(),i=Ct(e,o),a=wn(e,Io),s=_(()=>e.selected===!0||e.icon!==void 0),r=_(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),c=_(()=>e.iconRemove||o.iconSet.chip.remove),v=_(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=_(()=>{const q=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(q?` text-${q} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),p=_(()=>{const q=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...q,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:q,remove:P}});function x(q){q.keyCode===13&&f(q)}function f(q){e.disable||(n("update:selected",!e.selected),n("click",q))}function w(q){(q.keyCode===void 0||q.keyCode===13)&&(_e(q),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function L(){const q=[];v.value===!0&&q.push($("div",{class:"q-focus-helper"})),s.value===!0&&q.push($(rt,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const P=e.label!==void 0?[$("div",{class:"ellipsis"},[e.label])]:void 0;return q.push($("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Cn(t.default,P))),e.iconRight&&q.push($(rt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&q.push($(rt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...p.value.remove,onClick:w,onKeyup:w})),q}return()=>{if(e.modelValue===!1)return;const q={class:d.value,style:a.value};return v.value===!0&&Object.assign(q,p.value.chip,{onClick:f,onKeyup:x}),_n("div",q,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[xn,e.ripple]])}}}),Ho=ge({name:"QMenu",inheritAttrs:!1,props:{...jl,...jt,...xt,...Jt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:bt},self:{type:String,validator:bt},offset:{type:Array,validator:Gl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ut,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,a,s,r;const c=ye(),{proxy:v}=c,{$q:d}=v,p=E(null),x=E(!1),f=_(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),w=Ct(e,d),{registerTick:L,removeTick:q}=Yt(),{registerTimeout:P}=Xt(),{transitionProps:H,transitionStyle:V}=el(e),{localScrollTarget:g,changeScrollEvent:m,unconfigureScrollTarget:I}=Xl(e,k),{anchorEl:F,canShow:Q}=Ul({showing:x}),{hide:Z}=Zt({showing:x,canShow:Q,handleShow:ue,handleHide:u,hideOnRouteChange:f,processOnMount:!0}),{showPortal:te,hidePortal:le,renderPortal:Y}=tl(c,p,U,"menu"),re={anchorEl:F,innerRef:p,onClickOutside(h){if(e.persistent!==!0&&x.value===!0)return Z(h),(h.type==="touchstart"||h.target.classList.contains("q-dialog__backdrop"))&&_e(h),!0}},fe=_(()=>St(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),se=_(()=>e.cover===!0?fe.value:St(e.self||"top start",d.lang.rtl)),j=_(()=>(e.square===!0?" q-menu--square":"")+(w.value===!0?" q-menu--dark q-dark":"")),ve=_(()=>e.autoClose===!0?{onClick:D}:{}),ie=_(()=>x.value===!0&&e.persistent!==!0);G(ie,h=>{h===!0?(Wl(T),Zl(re)):(ft(T),yt(re))});function ne(){zl(()=>{let h=p.value;h&&h.contains(document.activeElement)!==!0&&(h=h.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||h.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||h.querySelector("[autofocus], [data-autofocus]")||h,h.focus({preventScroll:!0}))})}function ue(h){if(i=e.noRefocus===!1?document.activeElement:null,Ql(C),te(),k(),a=void 0,h!==void 0&&(e.touchPosition||e.contextMenu)){const ee=$n(h);if(ee.left!==void 0){const{top:be,left:Ae}=F.value.getBoundingClientRect();a={left:ee.left-Ae,top:ee.top-be}}}s===void 0&&(s=G(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,A)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{A(),e.noFocus!==!0&&ne()}),P(()=>{d.platform.is.ios===!0&&(r=e.autoClose,p.value.click()),A(),te(!0),n("show",h)},e.transitionDuration)}function u(h){q(),le(),y(!0),i!==null&&(h===void 0||h.qClickOutside!==!0)&&(((h&&h.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),P(()=>{le(!0),n("hide",h)},e.transitionDuration)}function y(h){a=void 0,s!==void 0&&(s(),s=void 0),(h===!0||x.value===!0)&&(Kt(C),I(),yt(re),ft(T)),h!==!0&&(i=null)}function k(){(F.value!==null||e.scrollTarget!==void 0)&&(g.value=Hl(F.value,e.scrollTarget),m(g.value,A))}function D(h){r!==!0?(Rl(v,h),n("click",h)):r=!1}function C(h){ie.value===!0&&e.noFocus!==!0&&Bl(p.value,h.target)!==!0&&ne()}function T(h){n("escapeKey"),Z(h)}function A(){ll({targetEl:p.value,offset:e.offset,anchorEl:F.value,anchorOrigin:fe.value,selfOrigin:se.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function U(){return $(st,H.value,()=>x.value===!0?$("div",{role:"menu",...o,ref:p,tabindex:-1,class:["q-menu q-position-engine scroll"+j.value,o.class],style:[o.style,V.value],...ve.value},$e(t.default)):null)}return xe(y),Object.assign(v,{focus:ne,updatePosition:A}),Y}});let pt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,pt=e.scrollLeft>=0,e.remove()}const he=1e3,Fo=["start","center","end","start-force","center-force","end-force"],Yl=Array.prototype.filter,Lo=window.getComputedStyle(document.body).overflowAnchor===void 0?An:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Yl.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Ke(e,t){return e+t}function zt(e,t,n,o,i,a,s,r){const c=e===window?document.scrollingElement||document.documentElement:e,v=i===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-s-r,scrollMaxSize:0,offsetStart:-s,offsetEnd:-r};if(i===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=c.scrollLeft,d.scrollViewSize+=c.clientWidth),d.scrollMaxSize=c.scrollWidth,a===!0&&(d.scrollStart=(pt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=c.scrollTop,d.scrollViewSize+=c.clientHeight),d.scrollMaxSize=c.scrollHeight),n!==null)for(let p=n.previousElementSibling;p!==null;p=p.previousElementSibling)p.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=p[v]);if(o!==null)for(let p=o.nextElementSibling;p!==null;p=p.nextElementSibling)p.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=p[v]);if(t!==e){const p=c.getBoundingClientRect(),x=t.getBoundingClientRect();i===!0?(d.offsetStart+=x.left-p.left,d.offsetEnd-=x.width):(d.offsetStart+=x.top-p.top,d.offsetEnd-=x.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function Tl(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(pt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(pt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Xe(e,t,n,o){if(n>=o)return 0;const i=t.length,a=Math.floor(n/he),s=Math.floor((o-1)/he)+1;let r=e.slice(a,s).reduce(Ke,0);return n%he!==0&&(r-=t.slice(a*he,n).reduce(Ke,0)),o%he!==0&&o!==i&&(r-=t.slice(o,s*he).reduce(Ke,0)),r}const Do={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ro={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Do};function Ko({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const i=ye(),{props:a,emit:s,proxy:r}=i,{$q:c}=r;let v,d,p,x=[],f;const w=E(0),L=E(0),q=E({}),P=E(null),H=E(null),V=E(null),g=E({from:0,to:0}),m=_(()=>a.tableColspan!==void 0?a.tableColspan:100);o===void 0&&(o=_(()=>a.virtualScrollItemSize));const I=_(()=>o.value+";"+a.virtualScrollHorizontal),F=_(()=>I.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);G(F,()=>{j()}),G(I,Q);function Q(){se(d,!0)}function Z(u){se(u===void 0?d:u)}function te(u,y){const k=t();if(k==null||k.nodeType===8)return;const D=zt(k,n(),P.value,H.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);p!==D.scrollViewSize&&j(D.scrollViewSize),Y(k,D,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,Fo.indexOf(y)>-1?y:d>-1&&u>d?"end":"start")}function le(){const u=t();if(u==null||u.nodeType===8)return;const y=zt(u,n(),P.value,H.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),k=e.value-1,D=y.scrollMaxSize-y.offsetStart-y.offsetEnd-L.value;if(v===y.scrollStart)return;if(y.scrollMaxSize<=0){Y(u,y,0,0);return}p!==y.scrollViewSize&&j(y.scrollViewSize),re(g.value.from);const C=Math.floor(y.scrollMaxSize-Math.max(y.scrollViewSize,y.offsetEnd)-Math.min(f[k],y.scrollViewSize/2));if(C>0&&Math.ceil(y.scrollStart)>=C){Y(u,y,k,y.scrollMaxSize-y.offsetEnd-x.reduce(Ke,0));return}let T=0,A=y.scrollStart-y.offsetStart,U=A;if(A<=D&&A+y.scrollViewSize>=w.value)A-=w.value,T=g.value.from,U=A;else for(let h=0;A>=x[h]&&T<k;h++)A-=x[h],T+=he;for(;A>0&&T<k;)A-=f[T],A>-y.scrollViewSize?(T++,U=A):U=f[T]+A;Y(u,y,T,U)}function Y(u,y,k,D,C){const T=typeof C=="string"&&C.indexOf("-force")>-1,A=T===!0?C.replace("-force",""):C,U=A!==void 0?A:"start";let h=Math.max(0,k-q.value[U]),ee=h+q.value.total;ee>e.value&&(ee=e.value,h=Math.max(0,ee-q.value.total)),v=y.scrollStart;const be=h!==g.value.from||ee!==g.value.to;if(be===!1&&A===void 0){ie(k);return}const{activeElement:Ae}=document,Se=V.value;be===!0&&Se!==null&&Se!==Ae&&Se.contains(Ae)===!0&&(Se.addEventListener("focusout",fe),setTimeout(()=>{Se!==null&&Se.removeEventListener("focusout",fe)})),Lo(Se,k-h);const et=A!==void 0?f.slice(h,k).reduce(Ke,0):0;if(be===!0){const Ce=ee>=g.value.from&&h<=g.value.to?g.value.to:ee;g.value={from:h,to:Ce},w.value=Xe(x,f,0,h),L.value=Xe(x,f,ee,e.value),requestAnimationFrame(()=>{g.value.to!==ee&&v===y.scrollStart&&(g.value={from:g.value.from,to:ee},L.value=Xe(x,f,ee,e.value))})}requestAnimationFrame(()=>{if(v!==y.scrollStart)return;be===!0&&re(h);const Ce=f.slice(h,k).reduce(Ke,0),qe=Ce+y.offsetStart+w.value,tt=qe+f[k];let Ne=qe+D;if(A!==void 0){const qt=Ce-et,Qe=y.scrollStart+qt;Ne=T!==!0&&Qe<qe&&tt<Qe+y.scrollViewSize?Qe:A==="end"?tt-y.scrollViewSize:qe-(A==="start"?0:Math.round((y.scrollViewSize-f[k])/2))}v=Ne,Tl(u,Ne,a.virtualScrollHorizontal,c.lang.rtl),ie(k)})}function re(u){const y=V.value;if(y){const k=Yl.call(y.children,h=>h.classList&&h.classList.contains("q-virtual-scroll--skip")===!1),D=k.length,C=a.virtualScrollHorizontal===!0?h=>h.getBoundingClientRect().width:h=>h.offsetHeight;let T=u,A,U;for(let h=0;h<D;){for(A=C(k[h]),h++;h<D&&k[h].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=C(k[h]),h++;U=A-f[T],U!==0&&(f[T]+=U,x[Math.floor(T/he)]+=U),T++}}}function fe(){V.value!==null&&V.value!==void 0&&V.value.focus()}function se(u,y){const k=1*o.value;(y===!0||Array.isArray(f)===!1)&&(f=[]);const D=f.length;f.length=e.value;for(let T=e.value-1;T>=D;T--)f[T]=k;const C=Math.floor((e.value-1)/he);x=[];for(let T=0;T<=C;T++){let A=0;const U=Math.min((T+1)*he,e.value);for(let h=T*he;h<U;h++)A+=f[h];x.push(A)}d=-1,v=void 0,w.value=Xe(x,f,0,g.value.from),L.value=Xe(x,f,g.value.to,e.value),u>=0?(re(g.value.from),we(()=>{te(u)})):ne()}function j(u){if(u===void 0&&typeof window!="undefined"){const A=t();A!=null&&A.nodeType!==8&&(u=zt(A,n(),P.value,H.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}p=u;const y=parseFloat(a.virtualScrollSliceRatioBefore)||0,k=parseFloat(a.virtualScrollSliceRatioAfter)||0,D=1+y+k,C=u===void 0||u<=0?1:Math.ceil(u/o.value),T=Math.max(1,C,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/D));q.value={total:Math.ceil(T*D),start:Math.ceil(T*y),center:Math.ceil(T*(.5+y)),end:Math.ceil(T*(1+y)),view:C}}function ve(u,y){const k=a.virtualScrollHorizontal===!0?"width":"height",D={["--q-virtual-scroll-item-"+k]:o.value+"px"};return[u==="tbody"?$(u,{class:"q-virtual-scroll__padding",key:"before",ref:P},[$("tr",[$("td",{style:{[k]:`${w.value}px`,...D},colspan:m.value})])]):$(u,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[k]:`${w.value}px`,...D}}),$(u,{class:"q-virtual-scroll__content",key:"content",ref:V,tabindex:-1},y.flat()),u==="tbody"?$(u,{class:"q-virtual-scroll__padding",key:"after",ref:H},[$("tr",[$("td",{style:{[k]:`${L.value}px`,...D},colspan:m.value})])]):$(u,{class:"q-virtual-scroll__padding",key:"after",ref:H,style:{[k]:`${L.value}px`,...D}})]}function ie(u){d!==u&&(a.onVirtualScroll!==void 0&&s("virtualScroll",{index:u,from:g.value.from,to:g.value.to-1,direction:u<d?"decrease":"increase",ref:r}),d=u)}j();const ne=Mn(le,c.platform.is.ios===!0?120:35);Ml(()=>{j()});let ue=!1;return Al(()=>{ue=!0}),zn(()=>{if(ue!==!0)return;const u=t();v!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?Tl(u,v,a.virtualScrollHorizontal,c.lang.rtl):te(d)}),xe(()=>{ne.cancel()}),Object.assign(r,{scrollTo:te,reset:Q,refresh:Z}),{virtualScrollSliceRange:g,virtualScrollSliceSizeComputed:q,setVirtualScrollSize:j,onVirtualScrollEvt:ne,localResetVirtualScroll:se,padVirtualScroll:ve,scrollTo:te,reset:Q,refresh:Z}}const El=e=>["add","add-unique","toggle"].includes(e),Wo=".*+?^${}()|[]\\",No=Object.keys(Gt);var Qo=ge({name:"QSelect",inheritAttrs:!1,props:{...Ro,...Wn,...Gt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:El},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Fl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=ye(),{$q:i}=o,a=E(!1),s=E(!1),r=E(-1),c=E(""),v=E(!1),d=E(!1);let p=null,x=null,f,w,L,q=null,P,H,V,g;const m=E(null),I=E(null),F=E(null),Q=E(null),Z=E(null),te=Nn(e),le=Qn(fl),Y=_(()=>Array.isArray(e.options)?e.options.length:0),re=_(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:fe,virtualScrollSliceSizeComputed:se,localResetVirtualScroll:j,padVirtualScroll:ve,onVirtualScrollEvt:ie,scrollTo:ne,setVirtualScrollSize:ue}=Ko({virtualScrollLength:Y,getVirtualScrollTarget:ln,getVirtualScrollEl:cl,virtualScrollItemSizeComputed:re}),u=Dl(),y=_(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,S=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const b=e.mapOptions===!0&&f!==void 0?f:[],O=S.map(N=>tn(N,b));return e.modelValue===null&&l===!0?O.filter(N=>N!==null):O}return S}),k=_(()=>{const l={};return No.forEach(S=>{const b=e[S];b!==void 0&&(l[S]=b)}),l}),D=_(()=>e.optionsDark===null?u.isDark.value:e.optionsDark),C=_(()=>wl(y.value)),T=_(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||y.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),A=_(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),U=_(()=>Y.value===0),h=_(()=>y.value.map(l=>ce.value(l)).join(", ")),ee=_(()=>e.displayValue!==void 0?e.displayValue:h.value),be=_(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),Ae=_(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||y.value.some(be.value))),Se=_(()=>u.focused.value===!0?e.tabindex:-1),et=_(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${u.targetUid.value}_lb`};return r.value>=0&&(l["aria-activedescendant"]=`${u.targetUid.value}_${r.value}`),l}),Ce=_(()=>({id:`${u.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),qe=_(()=>y.value.map((l,S)=>({index:S,opt:l,html:be.value(l),selected:!0,removeAtIndex:en,toggleOption:ke,tabindex:Se.value}))),tt=_(()=>{if(Y.value===0)return[];const{from:l,to:S}=fe.value;return e.options.slice(l,S).map((b,O)=>{const N=Me.value(b)===!0,K=l+O,X={clickable:!0,active:!1,activeClass:Qe.value,manualFocus:!0,focused:!1,disable:N,tabindex:-1,dense:e.optionsDense,dark:D.value,role:"option",id:`${u.targetUid.value}_${K}`,onClick:()=>{ke(b)}};return N!==!0&&(Tt(b)===!0&&(X.active=!0),r.value===K&&(X.focused=!0),X["aria-selected"]=X.active===!0?"true":"false",i.platform.is.desktop===!0&&(X.onMousemove=()=>{a.value===!0&&ze(K)})),{index:K,opt:b,html:be.value(b),label:ce.value(b),selected:X.active,focused:X.focused,toggleOption:ke,setOptionIndex:ze,itemProps:X}})}),Ne=_(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),qt=_(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Qe=_(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),pe=_(()=>Vt(e.optionValue,"value")),ce=_(()=>Vt(e.optionLabel,"label")),Me=_(()=>Vt(e.optionDisable,"disable")),lt=_(()=>y.value.map(l=>pe.value(l))),Jl=_(()=>{const l={onInput:fl,onChange:le,onKeydown:sl,onKeyup:ul,onKeypress:rl,onFocus:al,onClick(S){w===!0&&Le(S)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=le,l});G(y,l=>{f=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&u.innerLoading.value!==!0&&(s.value!==!0&&a.value!==!0||C.value!==!0)&&(L!==!0&&He(),(s.value===!0||a.value===!0)&&Pe(""))},{immediate:!0}),G(()=>e.fillInput,He),G(a,Et),G(Y,hn);function nl(l){return e.emitValue===!0?pe.value(l):l}function kt(l){if(l>-1&&l<y.value.length)if(e.multiple===!0){const S=e.modelValue.slice();n("remove",{index:l,value:S.splice(l,1)[0]}),n("update:modelValue",S)}else n("update:modelValue",null)}function en(l){kt(l),u.focus()}function ol(l,S){const b=nl(l);if(e.multiple!==!0){e.fillInput===!0&&je(ce.value(l),!0,!0),n("update:modelValue",b);return}if(y.value.length===0){n("add",{index:0,value:b}),n("update:modelValue",e.multiple===!0?[b]:b);return}if(S===!0&&Tt(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const O=e.modelValue.slice();n("add",{index:O.length,value:b}),O.push(b),n("update:modelValue",O)}function ke(l,S){if(u.editable.value!==!0||l===void 0||Me.value(l)===!0)return;const b=pe.value(l);if(e.multiple!==!0){S!==!0&&(je(e.fillInput===!0?ce.value(l):"",!0,!0),Ve()),I.value!==null&&I.value.focus(),(y.value.length===0||Ue(pe.value(y.value[0]),b)!==!0)&&n("update:modelValue",e.emitValue===!0?b:l);return}if((w!==!0||v.value===!0)&&u.focus(),al(),y.value.length===0){const K=e.emitValue===!0?b:l;n("add",{index:0,value:K}),n("update:modelValue",e.multiple===!0?[K]:K);return}const O=e.modelValue.slice(),N=lt.value.findIndex(K=>Ue(K,b));if(N>-1)n("remove",{index:N,value:O.splice(N,1)[0]});else{if(e.maxValues!==void 0&&O.length>=e.maxValues)return;const K=e.emitValue===!0?b:l;n("add",{index:O.length,value:K}),O.push(K)}n("update:modelValue",O)}function ze(l){if(i.platform.is.desktop!==!0)return;const S=l>-1&&l<Y.value?l:-1;r.value!==S&&(r.value=S)}function nt(l=1,S){if(a.value===!0){let b=r.value;do b=pl(b+l,-1,Y.value-1);while(b!==-1&&b!==r.value&&Me.value(e.options[b])===!0);r.value!==b&&(ze(b),ne(b),S!==!0&&e.useInput===!0&&e.fillInput===!0&&ot(b>=0?ce.value(e.options[b]):P,!0))}}function tn(l,S){const b=O=>Ue(pe.value(O),l);return e.options.find(b)||S.find(b)||l}function Vt(l,S){const b=l!==void 0?l:S;return typeof b=="function"?b:O=>O!==null&&typeof O=="object"&&b in O?O[b]:O}function Tt(l){const S=pe.value(l);return lt.value.find(b=>Ue(b,S))!==void 0}function al(l){e.useInput===!0&&I.value!==null&&(l===void 0||I.value===l.target&&l.target.value===h.value)&&I.value.select()}function il(l){wt(l,27)===!0&&a.value===!0&&(Le(l),Ve(),He()),n("keyup",l)}function ul(l){const{value:S}=l.target;if(l.keyCode!==void 0){il(l);return}if(l.target.value="",p!==null&&(clearTimeout(p),p=null),x!==null&&(clearTimeout(x),x=null),He(),typeof S=="string"&&S.length!==0){const b=S.toLocaleLowerCase(),O=K=>{const X=e.options.find(oe=>K.value(oe).toLocaleLowerCase()===b);return X===void 0?!1:(y.value.indexOf(X)===-1?ke(X):Ve(),!0)},N=K=>{O(pe)!==!0&&(O(ce)===!0||K===!0||Pe(S,!0,()=>N(!0)))};N()}else u.clearValue(l)}function rl(l){n("keypress",l)}function sl(l){if(n("keydown",l),On(l)===!0)return;const S=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),b=l.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||S===!0);if(l.keyCode===27){Je(l);return}if(l.keyCode===9&&b===!1){Ie();return}if(l.target===void 0||l.target.id!==u.targetUid.value||u.editable.value!==!0)return;if(l.keyCode===40&&u.innerLoading.value!==!0&&a.value===!1){_e(l),Oe();return}if(l.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?kt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(_e(l),r.value=-1,nt(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&se.value!==void 0&&(_e(l),r.value=Math.max(-1,Math.min(Y.value,r.value+(l.keyCode===33?-1:1)*se.value.view)),nt(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(_e(l),nt(l.keyCode===38?-1:1,e.multiple));const O=Y.value;if((V===void 0||g<Date.now())&&(V=""),O>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||V.length!==0)){a.value!==!0&&Oe(l);const N=l.key.toLocaleLowerCase(),K=V.length===1&&V[0]===N;g=Date.now()+1500,K===!1&&(_e(l),V+=N);const X=new RegExp("^"+V.split("").map(Bt=>Wo.indexOf(Bt)>-1?"\\"+Bt:Bt).join(".*"),"i");let oe=r.value;if(K===!0||oe<0||X.test(ce.value(e.options[oe]))!==!0)do oe=pl(oe+1,-1,O-1);while(oe!==r.value&&(Me.value(e.options[oe])===!0||X.test(ce.value(e.options[oe]))!==!0));r.value!==oe&&we(()=>{ze(oe),ne(oe),oe>=0&&e.useInput===!0&&e.fillInput===!0&&ot(ce.value(e.options[oe]),!0)});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||V!=="")&&(l.keyCode!==9||b===!1))){if(l.keyCode!==9&&_e(l),r.value>-1&&r.value<O){ke(e.options[r.value]);return}if(S===!0){const N=(K,X)=>{if(X){if(El(X)!==!0)return}else X=e.newValueMode;if(je("",e.multiple!==!0,!0),K==null)return;(X==="toggle"?ke:ol)(K,X==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),Ve())};if(e.onNewValue!==void 0?n("newValue",c.value,N):N(c.value),e.multiple!==!0)return}a.value===!0?Ie():u.innerLoading.value!==!0&&Oe()}}function cl(){return w===!0?Z.value:F.value!==null&&F.value.contentEl!==null?F.value.contentEl:void 0}function ln(){return cl()}function nn(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?qe.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?qe.value.map((l,S)=>$(Oo,{key:"option-"+S,removable:u.editable.value===!0&&Me.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:Se.value,onRemove(){l.removeAtIndex(S)}},()=>$("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:ce.value(l.opt)}))):[$("span",{[Ae.value===!0?"innerHTML":"textContent"]:ee.value})]}function dl(){if(U.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const l=t.option!==void 0?t.option:b=>$(Il,{key:b.index,...b.itemProps},()=>$(Ft,()=>$(Ol,()=>$("span",{[b.html===!0?"innerHTML":"textContent"]:b.label}))));let S=ve("div",tt.value.map(l));return t["before-options"]!==void 0&&(S=t["before-options"]().concat(S)),qn(t["after-options"],S)}function on(l,S){const b=S===!0?{...et.value,...u.splitAttrs.attributes.value}:void 0,O={ref:S===!0?I:void 0,key:"i_t",class:T.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...b,id:S===!0?u.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Jl.value};return l!==!0&&w===!0&&(Array.isArray(O.class)===!0?O.class=[...O.class,"no-pointer-events"]:O.class+=" no-pointer-events"),$("input",O)}function fl(l){p!==null&&(clearTimeout(p),p=null),x!==null&&(clearTimeout(x),x=null),!(l&&l.target&&l.target.qComposing===!0)&&(ot(l.target.value||""),L=!0,P=c.value,u.focused.value!==!0&&(w!==!0||v.value===!0)&&u.focus(),e.onFilter!==void 0&&(p=setTimeout(()=>{p=null,Pe(c.value)},e.inputDebounce)))}function ot(l,S){c.value!==l&&(c.value=l,S===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",l):x=setTimeout(()=>{x=null,n("inputValue",l)},e.inputDebounce))}function je(l,S,b){L=b!==!0,e.useInput===!0&&(ot(l,!0),(S===!0||b!==!0)&&(P=l),S!==!0&&Pe(l))}function Pe(l,S,b){if(e.onFilter===void 0||S!==!0&&u.focused.value!==!0)return;u.innerLoading.value===!0?n("filterAbort"):(u.innerLoading.value=!0,d.value=!0),l!==""&&e.multiple!==!0&&y.value.length!==0&&L!==!0&&l===ce.value(y.value[0])&&(l="");const O=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);q!==null&&clearTimeout(q),q=O,n("filter",l,(N,K)=>{(S===!0||u.focused.value===!0)&&q===O&&(clearTimeout(q),typeof N=="function"&&N(),d.value=!1,we(()=>{u.innerLoading.value=!1,u.editable.value===!0&&(S===!0?a.value===!0&&Ve():a.value===!0?Et(!0):a.value=!0),typeof K=="function"&&we(()=>{K(o)}),typeof b=="function"&&we(()=>{b(o)})}))},()=>{u.focused.value===!0&&q===O&&(clearTimeout(q),u.innerLoading.value=!1,d.value=!1),a.value===!0&&(a.value=!1)})}function an(){return $(Ho,{ref:F,class:A.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&U.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:D.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:qt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ce.value,onScrollPassive:ie,onBeforeShow:ml,onBeforeHide:un,onShow:rn},dl)}function un(l){hl(l),Ie()}function rn(){ue()}function sn(l){Le(l),I.value!==null&&I.value.focus(),v.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function cn(l){Le(l),we(()=>{v.value=!1})}function dn(){const l=[$(Po,{class:`col-auto ${u.fieldClass.value}`,...k.value,for:u.targetUid.value,dark:D.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...u.splitAttrs.listeners.value,onFocus:sn,onBlur:cn},{...t,rawControl:()=>u.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&l.push($("div",{ref:Z,class:A.value+" scroll",style:e.popupContentStyle,...Ce.value,onClick:Je,onScrollPassive:ie},dl())),$(vt,{ref:Q,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:H,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ml,onBeforeHide:fn,onHide:vn,onShow:mn},()=>$("div",{class:"q-select__dialog"+(D.value===!0?" q-select__dialog--dark q-dark":"")+(v.value===!0?" q-select__dialog--focused":"")},l))}function fn(l){hl(l),Q.value!==null&&Q.value.__updateRefocusTarget(u.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),u.focused.value=!1}function vn(l){Ve(),u.focused.value===!1&&n("blur",l),He()}function mn(){const l=document.activeElement;(l===null||l.id!==u.targetUid.value)&&I.value!==null&&I.value!==l&&I.value.focus(),ue()}function Ie(){s.value!==!0&&(r.value=-1,a.value===!0&&(a.value=!1),u.focused.value===!1&&(q!==null&&(clearTimeout(q),q=null),u.innerLoading.value===!0&&(n("filterAbort"),u.innerLoading.value=!1,d.value=!1)))}function Oe(l){u.editable.value===!0&&(w===!0?(u.onControlFocusin(l),s.value=!0,we(()=>{u.focus()})):u.focus(),e.onFilter!==void 0?Pe(c.value):(U.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function Ve(){s.value=!1,Ie()}function He(){e.useInput===!0&&je(e.multiple!==!0&&e.fillInput===!0&&y.value.length!==0&&ce.value(y.value[0])||"",!0,!0)}function Et(l){let S=-1;if(l===!0){if(y.value.length!==0){const b=pe.value(y.value[0]);S=e.options.findIndex(O=>Ue(pe.value(O),b))}j(S)}ze(S)}function hn(l,S){a.value===!0&&u.innerLoading.value===!1&&(j(-1,!0),we(()=>{a.value===!0&&u.innerLoading.value===!1&&(l>S?j():Et(!0))}))}function vl(){s.value===!1&&F.value!==null&&F.value.updatePosition()}function ml(l){l!==void 0&&Le(l),n("popupShow",l),u.hasPopupOpen=!0,u.onControlFocusin(l)}function hl(l){l!==void 0&&Le(l),n("popupHide",l),u.hasPopupOpen=!1,u.onControlFocusout(l)}function gl(){w=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||U.value===!1:!0),H=i.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return Pn(gl),In(vl),gl(),xe(()=>{p!==null&&clearTimeout(p),x!==null&&clearTimeout(x)}),Object.assign(o,{showPopup:Oe,hidePopup:Ve,removeAtIndex:kt,add:ol,toggleOption:ke,getOptionIndex:()=>r.value,setOptionIndex:ze,moveOptionSelection:nt,filter:Pe,updateMenuPosition:vl,updateInputValue:je,isOptionSelected:Tt,getEmittingOptionValue:nl,isOptionDisabled:(...l)=>Me.value.apply(null,l)===!0,getOptionValue:(...l)=>pe.value.apply(null,l),getOptionLabel:(...l)=>ce.value.apply(null,l)}),Object.assign(u,{innerValue:y,fieldClass:_(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:m,targetRef:I,hasValue:C,showPopup:Oe,floatingLabel:_(()=>e.hideSelected!==!0&&C.value===!0||typeof c.value=="number"||c.value.length!==0||wl(e.displayValue)),getControlChild:()=>{if(u.editable.value!==!1&&(s.value===!0||U.value!==!0||t["no-option"]!==void 0))return w===!0?dn():an();u.hasPopupOpen===!0&&(u.hasPopupOpen=!1)},controlEvents:{onFocusin(l){u.onControlFocusin(l)},onFocusout(l){u.onControlFocusout(l,()=>{He(),Ie()})},onClick(l){if(Je(l),w!==!0&&a.value===!0){Ie(),I.value!==null&&I.value.focus();return}Oe(l)}},getControl:l=>{const S=nn(),b=l===!0||s.value!==!0||w!==!0;if(e.useInput===!0)S.push(on(l,b));else if(u.editable.value===!0){const N=b===!0?et.value:void 0;S.push($("input",{ref:b===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:b===!0?u.targetUid.value:void 0,value:ee.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...N,onKeydown:sl,onKeyup:il,onKeypress:rl})),b===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&S.push($("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ul}))}if(te.value!==void 0&&e.disable!==!0&&lt.value.length!==0){const N=lt.value.map(K=>$("option",{value:K,selected:!0}));S.push($("select",{class:"hidden",name:te.value,multiple:e.multiple},N))}const O=e.useInput===!0||b!==!0?void 0:u.splitAttrs.attributes.value;return $("div",{class:"q-field__native row items-center",...O,...u.splitAttrs.listeners.value},S)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[$(rt,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Ne.value})]:null}),Ll(u)}});const jo={__name:"KeyboardSelector",setup(e){const t=_t(),n=E("");return Ml(()=>{t.lang.lang==="\u0420\u0443\u0441\u0441\u043A\u0438\u0439"?(n.value="(RUS) Public",t.currentKeyboardId=2):(n.value="(ENG) Public",t.currentKeyboardId=1)}),G(n,o=>{o!==""&&(t.currentKeyboardId=t.getKeyboardByName(o).id)}),t.$subscribe(()=>{const o=t.currentKeyboardId;if(o!==null){const i=t.keyboards.find(a=>a.id===o).name;n.value=i}else n.value=""},{detached:!0}),(o,i)=>(J(),Qt(Qo,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a),options:B(t).getKeyboardNames,class:"q-pb-md","popup-content-class":"bg-deep-purple-1",standout:"","label-color":"pink-10","bg-color":"deep-purple-2",label:B(t).lang.langSelectorLable},null,8,["modelValue","options","label"]))}};const Uo={class:"parent-container q-pt-md"},Xo={class:"child-container"},Zo={class:"h1 text-center q-pb-md"},Go={class:"q-pb-md"},Yo={class:"encrypt"},Jo=z("svg",{fill:"#AAA",xmlns:"http://www.w3.org/2000/svg",height:"30",viewBox:"0 -960 960 960",width:"30"},[z("path",{d:"M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"})],-1),ea={class:"q-py-md flex"},ta={class:"q-pb-md"},la={class:"crypt-copy-tooltip"},na=z("span",{class:"q-pr-md"},null,-1),oa={class:"q-pb-md q-pr-md"},aa={class:"text-h6"},ia={class:"h2"},ua={class:"decrypt"},ra=z("svg",{fill:"#AAA",xmlns:"http://www.w3.org/2000/svg",height:"30",viewBox:"0 -960 960 960",width:"30"},[z("path",{d:"M420-360h120l-23-129q20-10 31.5-29t11.5-42q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 23 11.5 42t31.5 29l-23 129Zm60 280q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Zm0-84q104-33 172-132t68-220v-189l-240-90-240 90v189q0 121 68 220t172 132Zm0-316Z"})],-1),sa={class:"q-py-md flex"},ca={class:"q-pr-md q-pb-md"},da={class:"q-pr-md q-pb-md"},fa={class:"q-pr-md q-pb-md"},va={class:"text-h6"},ma={class:"h2"},ha={class:"decrypt-copy-tooltip"},ga={__name:"CryptDecrypt",setup(e){const t=_t();let n=E(""),o=E(""),i=E(""),a=E("");const s=E(!1),r=E(!1),c=E(t.getKeyboardById(t.currentKeyboardId));t.$subscribe(()=>{c.value=t.getKeyboardById(t.currentKeyboardId)},{detached:!0});const{copy:v,copied:d}=jn({source:i}),p=E(null),{focused:x}=Pl(p);G(x,V=>{V?t.onInput(!0):t.onInput(!1)});const f=()=>{const g=n.value.split(""),m=[];g.forEach(I=>m.push(c.value[I])),i.value=m.join(""),w.value="Crypt",v(i.value),setTimeout(()=>{w.value=""},1e3)},w=E(""),L=E(!1),q=E(!1);G(d,V=>{V&&w.value==="Crypt"?L.value=!0:L.value=!1,V&&w.value==="Decrypt"?q.value=!0:q.value=!1});const P=()=>{const V=o.value.split(""),g=[];for(let m=0;m<=V.length;m++)Object.keys(c.value).find(I=>{c.value[I]===V[m]&&g.push(I)});a.value=g.join("")},H=()=>{w.value="Decrypt",v(a.value),setTimeout(()=>{w.value=""},1e3)};return(V,g)=>(J(),ae("div",Uo,[z("div",Xo,[z("div",Zo,W(B(t).lang.cryptTitle),1),z("div",Go,W(B(t).lang.cryptText),1),M(jo),z("div",{class:"crypt-decrypt",ref_key:"cryptedRef",ref:p},[z("div",Yo,[M(Ht,{modelValue:B(n),"onUpdate:modelValue":g[0]||(g[0]=m=>De(n)?n.value=m:n=m),color:"teal",placeholder:B(t).lang.placeholderCrypt,outlined:"",type:"text"},{append:R(()=>[Jo]),_:1},8,["modelValue","placeholder"]),z("div",ea,[z("div",ta,[M(de,{onClick:f,class:"btn",disabled:!B(n),"no-caps":""},{default:R(()=>[me(W(B(t).lang.btnCrypt),1)]),_:1},8,["disabled"]),z("div",la,[M(Vl,{class:"crypt-copy-tooltip-component",modelValue:L.value,"onUpdate:modelValue":g[1]||(g[1]=m=>L.value=m),offset:[10,45],anchor:"top middle",self:"bottom middle"},{default:R(()=>[me(W(B(t).lang.copyTooltip),1)]),_:1},8,["modelValue"])])]),na,z("div",oa,[M(de,{onClick:g[2]||(g[2]=m=>(De(n)?n.value="":n="",De(i)?i.value="":i="")),class:"btn",disabled:!B(n),"no-caps":""},{default:R(()=>[me(W(B(t).lang.btnClear),1)]),_:1},8,["disabled"])]),z("div",null,[M(de,{class:"btn",disabled:!B(i),onClick:g[3]||(g[3]=m=>s.value=!0),"no-caps":""},{default:R(()=>[me(W(B(t).lang.btnShowResult),1)]),_:1},8,["disabled"]),M(vt,{modelValue:s.value,"onUpdate:modelValue":g[4]||(g[4]=m=>s.value=m)},{default:R(()=>[M(Rt,{class:"secret-answer"},{default:R(()=>[M(Ye,null,{default:R(()=>[z("div",aa,W(B(t).lang.popupCryptTitle),1)]),_:1}),M(it),M(Ye,{style:{"max-height":"50vh"},class:"scroll"},{default:R(()=>[z("p",ia,W(B(i)),1)]),_:1}),M(it),M(Dt,{align:"right"},{default:R(()=>[ct(M(de,{flat:"",label:"Ok",color:"primary"},null,512),[[mt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),z("div",ua,[M(Ht,{modelValue:B(o),"onUpdate:modelValue":g[5]||(g[5]=m=>De(o)?o.value=m:o=m),color:"teal",placeholder:B(t).lang.placeholderDecrypt,outlined:"",type:"text"},{append:R(()=>[ra]),_:1},8,["modelValue","placeholder"]),z("div",sa,[z("div",ca,[M(de,{onClick:P,class:"btn",disabled:!B(o),"no-caps":""},{default:R(()=>[me(W(B(t).lang.btnDecrypt),1)]),_:1},8,["disabled"])]),z("div",da,[M(de,{onClick:g[6]||(g[6]=m=>(De(o)?o.value="":o="",De(a)?a.value="":a="")),class:"btn",disabled:!B(o),"no-caps":""},{default:R(()=>[me(W(B(t).lang.btnClear),1)]),_:1},8,["disabled"])]),z("div",fa,[M(de,{class:"btn",disabled:!B(a),onClick:g[7]||(g[7]=m=>r.value=!0),"no-caps":""},{default:R(()=>[me(W(B(t).lang.btnShowResult),1)]),_:1},8,["disabled"]),M(vt,{modelValue:r.value,"onUpdate:modelValue":g[9]||(g[9]=m=>r.value=m)},{default:R(()=>[M(Rt,{class:"secret-answer"},{default:R(()=>[M(Ye,null,{default:R(()=>[z("div",va,W(B(t).lang.popupDecryptTitle),1)]),_:1}),M(it),M(Ye,{style:{"max-height":"50vh"},class:"scroll"},{default:R(()=>[z("p",ma,W(B(a)),1)]),_:1}),M(it),M(Dt,{align:"right"},{default:R(()=>[z("div",null,[M(de,{onClick:H,flat:"","no-caps":""},{default:R(()=>[me(W(B(t).lang.btnCopy),1)]),_:1}),z("div",ha,[M(Vl,{modelValue:q.value,"onUpdate:modelValue":g[8]||(g[8]=m=>q.value=m),offset:[0,45],anchor:"top middle",self:"bottom middle"},{default:R(()=>[me(W(B(t).lang.copyTooltip),1)]),_:1},8,["modelValue"])])]),ct(M(de,{flat:"",label:"Ok"},null,512),[[mt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])],512)])]))}},pa={__name:"IndexPage",setup(e){return Hn({name:"IndexPage"}),(t,n)=>(J(),Qt(Un,{class:"flex flex-center",style:{"min-height":"0"}},{default:R(()=>[M(ga),M(vo),M(Bo)]),_:1}))}};export{pa as default};
